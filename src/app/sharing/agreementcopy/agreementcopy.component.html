<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="loader" *ngIf="isloading"></div>
<div [ngClass]="{'versions_backdrop d-md-none d-sm-block':header_button == 'versions'}">
</div>
<div *ngIf = 'notAuthorized'>
<nav class="navbar navbar-expand head-bg flex-column flex-md-row head-stick pad-l-38 headermobile-none navhead  d-sm-none d-md-block contentnoselect "
  id="docheader">
  <a class="navbar-brand">
    <i class="fas fa-arrow-left t-col b-right pr-3" (click)="navigationBackButton()"></i>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse hed-12" (window:resize)="onWindowResize()" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link  t-col f-col" *ngIf="selectedDoc"><p class="text-flow" matTooltip="{{selectedDoc.name}}"
          matTooltipClass="example-tooltip-red" [matTooltipDisabled]="matttoltip" matTooltipPosition="below"
          aria-label="Button that displays a tooltip when focused or hovered over">{{selectedDoc.name}}</p><span class="sr-only">(current)</span>
        </a>
      </li>
    </ul>
    <span class="navbar-text">
      <ul class="navbar-nav mr-auto">

        <li class="nav-item active" *ngIf="header_button != 'versions' && !editTemplateid">
          <button class="top-head-but homefont btn-sm bsha-none version" [ngClass]="{'top-head-button' : heatmapss }"
            (click)="heatMaps();heatmapss=!heatmapss;buttonActive('heatmaps');savebutton=false;shareform=true" type="button">Heatmaps</button>
        </li>
        <li class="nav-item active " *ngIf="header_button != 'versions' && !editTemplateid">
          <button class="top-head-but btn-sm homefont bsha-none version" [ngClass]="{'top-head-button' : header_button == 'watermarkbtn' }"
            (click)="buttonActive('watermarkbtn');shareform=false;savebutton=false;openChat=false" type="button">Watermark</button>
        </li>
        <li class="nav-item active " *ngIf="header_button != 'versions' && !editTemplateid">
          <button class="top-head-but btn-sm homefont bsha-none version" [disabled]='disableShareButton' [ngClass]="{'top-head-button' : header_button == 'share' }"
            (click)="buttonActive('share');shareform=true;savebutton=false;openChat=false;shareFile();sharebutton=false"
            type="button">Share</button>
        </li>

        <li class="nav-item active" *ngIf="header_button != 'insertField' && header_button != 'saveFile' && header_button != 'versions'  && !editTemplateid">
          <button class="top-head-but btn-sm bsha-none version homefont" [ngClass]="{'top-head-button' : header_button == 'insertField' }"
            (click)="buttonActive('insertField');openChat=false;savebutton=true;shareform=true" type="button"><span>Insert
              fields</span>
          </button>
        </li>
        <li class="nav-item active" *ngIf="editTemplateid">
          <button class="top-head-but btn-sm bsha-none version homefont" [ngClass]="{'top-head-button' : header_button == 'review' }"
            (click)="buttonActive('review');savebutton=false;openChat=false;shareform=true" type="button"><span>Preview</span></button>
        </li>
        <li class="nav-item active" *ngIf="editTemplateid">
          <button class="top-head-but btn-sm bsha-none version homefont" [ngClass]="{'top-head-button' : header_button == 'insertField' }"
            (click)="buttonActive('insertField');openChat=false;savebutton=true;shareform=true" type="button"><span>Insert
              fields</span>
          </button>
        </li>
        <li class="nav-item active" *ngIf=" !(header_button == 'review') && editTemplateid">
          <button class="top-head-but btn-sm bsha-none version homefont"  
           (click)=" edittemplateDocFields()" type="button" [ngClass]="{'top-head-button' : header_button == 'editTemplate' }" >
           <span> Save</span></button>
        </li>
        <li class="nav-item active" *ngIf="(header_button == 'insertField' || header_button == 'saveFile') && header_button != 'versions' && !editTemplateid">
          <button class="top-head-but btn-sm bsha-none version homefont" [ngClass]="{'top-head-button' : header_button == 'review' }"
            (click)="buttonActive('review');savebutton=false;openChat=false;shareform=true" type="button"><span>Preview</span></button>
        </li>
        
        <li class="nav-item active" *ngIf="!(header_button == 'review') && savebutton && header_button != 'versions' && !editTemplateid">
          <button class="top-head-but btn-sm bsha-none homefont version" (click)="isClickedOnSaveBtn=true;saveFile('fromsave'); buttonActive('saveFile');shareform=true"
            [ngClass]="{'top-head-button' : header_button == 'saveFile' }" type="button">Save</button>
        </li>
        <li class="nav-item active" *ngIf='!editTemplateid'>
          <button class="top-head-but btn-sm bsha-none version homefont" (click)="showversion();buttonActive('versions');shareform=false;savebutton=false;openChat=false;ver=true;heatmapss=false;"
            [ngClass]="{'top-head-button' : header_button == 'versions'  }" type="button">Versions</button>
        </li>
        <li class="nav-item pad-top-4" *ngIf=" onlineusers && onlineusers.length>1 && !restorebtn && !editTemplateid">

          <i class="material-icons p-2 iconimg_nav chat-icon-left-border" (click)="chatOpen();savebutton=false; ver=false" [ngClass]="{'clickicon':openChat || newChat}">chat_bubble</i>
          <span *ngIf='chatnotificationlogsCount>0 ' class="badge  badge-sc2 badge_count">{{chatnotificationlogsCount}}</span>
        </li>
           
        <li class="nav-item" *ngIf="removefav && !restorebtn && !editTemplateid" >
          <i class="material-icons p-2 iconimg_nav mar-top-4 c0lr fav01" (click)="removefavorite()" >
            favorite
          </i>

        </li>
        <li class="social-media-tooltips nav-item" *ngIf="!removefav && !restorebtn && !editTemplateid" >
          <span class="social-media-tooltipstext">favorite</span>
          <i class="material-icons p-2 iconimg_nav mar-top-4 fav01" (click)="favorite()">
            favorite_border
          </i>

        </li>
        <li class="nav-item dropdown txt2font" *ngIf='!editTemplateid'>

          
            <!-- <i _ngcontent-c15="" class="material-icons p-2 iconimg_nav chat-icon-left-border">chat</i> -->
            <i _ngcontent-c1="" _ngcontent-c28="" class="material-icons icon_hover p-2 iconimg_nav chat-icon-left-border brdr_lft clickicon"
              (click)="commentshownotifitab = false;SelectedCom=null" *ngIf="commentshownotifitab"> comment </i>
            <i _ngcontent-c1="" _ngcontent-c28="" class="material-icons icon_hover p-2 iconimg_nav chat-icon-left-border brdr_lft"
              (click)="commentshownotifitab = true;notificationshow = false;SelectedCom=null" *ngIf="!commentshownotifitab"> comment </i>
              <div class="latest-notifications scroll-style comments_width" *ngIf='commentshownotifitab '>
                <div class="mwi-drop-pro">
                  <div class="mwi-drop-pro ">
                    <a class="text-center">
  
                      <div class="col-md-12 pading">
                       <h4 class="comenthead">Comments</h4>
                        <p *ngIf='parentcomment && parentcomment.length == 0'>No comments</p>
                        <div class="row c0ntent m-0 mb-3 " (click)="commentBlockSelect(com)" [ngClass]="{'select_highlite':SelectedCom && SelectedCom._id==com._id}" *ngFor="let com of parentcomment">
                          <div class="col-md-8 pl-0" >
                            <div class="coment text-left">
                              <ngx-avatar *ngIf='com.name' [name]="com.name" value="D" size="35"  class="avatar_icon avtar">
                              </ngx-avatar>

                              <p class="prof_name" matTooltip="{{com.name}}"
                              matTooltipClass="example-tooltip-red" [matTooltipDisabled]="matttoltip" matTooltipPosition="below"
                              aria-label="Button that displays a tooltip when focused or hovered over">{{com.name}}</p>
                              <p class="mb-1 cmntdtxt" matTooltip="{{com.commentedlines}}"
                              matTooltipClass="example-tooltip-red" [matTooltipDisabled]="matttoltip" matTooltipPosition="below"
                              aria-label="Button that displays a tooltip when focused or hovered over">{{com.commentedlines}}</p>
                              <p class="spectxt">Specifications</p>
                              
                            </div>
                            
                          </div>
                          <div class="col-md-4">
                            <p class="coment_time">{{com.created_at | date:'d-MMM, h:mm a'}}
                              <span>
                                <div class="dropdown time_dropdown">
                                  <button class="dropdown-toggle" type="button" data-toggle="dropdown">
                                    <i class="fa fa-caret-down caretdown"></i></button>
                                  <ul class="dropdown-menu drop_down">
                                    <li><a *ngIf="accessbutton" (click)="comment1(com)">Edit</a></li>
                                    <li><a *ngIf="accessbutton" (click)="deletecomment(com,'delete')">Delete</a></li>
                                    <li><a *ngIf="com.status=='pending'" (click)="deletecomment(com,'resolve')" >Resolve</a></li>
                                    <li  *ngIf="com.uid"><a *ngIf="com.status=='resolve' && com.uid._id==profiledata._id" (click)="deletecomment(com,'ok')" >Ok</a></li>
                                    <li  *ngIf="!com.uid"><a *ngIf="com.status=='resolve' && profiledata.email == com.email"  (click)="deletecomment(com,'ok')" >Ok</a></li>
                                   
                                    <li><a *ngIf="com.status=='ok'" (click)="deletecomment(com,'pending')" >Re-open</a></li>
                                  </ul>
                                </div>
  
                              </span></p>
  
                          </div>
                          <div *ngIf="editCommsentSection && com._id == documentid" class="col-md-12">
                              <form #fileData1Form="ngForm" (ngSubmit)="editcomment(fileData1Form)" name="fileData1Form"  class="edit_form">
                                <input type="hidden" name="documentid" [(ngModel)]="documentid">
                                <!-- <input type="text" name="comment" #editcomment1="ngModel" [(ngModel)]="comment" class="comment-input"> -->
                                <textarea name="comment" #editcomment1="ngModel" [(ngModel)]="comment"  class="form-control"></textarea>
                                <div class="chat-button" style="width:100%;">
                                    <button type="submit" class="btn btn_reply  btn-save ml-0">save</button>
                                  <button type="reset" class="btn btn_cancel btnn_cancel" (click)="cancel()">Cancel</button>
                                  
                                </div>
                              </form>
                            </div>
                          <div class="col-md-12">
                            
                            <p class="cmnttxt cmnttxt_font mb-2" style="word-break:break-all;">{{com.comment}}</p>
                            <p class="cmnttxt cmnttxt_font kolor">
                              <a (click)="replycomment(com)" >Reply</a>
                              <a *ngIf="com.status=='pending'"><i class="fa fa-circle doticon"></i></a>
                              <a *ngIf="com.status=='pending'" (click)="deletecomment(com,'resolve')">Resolve</a></p>
                            <div *ngFor="let chcom of childcomments"> 
                              <div class="outerbox mt-4" *ngIf="com._id == chcom.parentcommentid._id" >
                                <div>
                                <div class="coment text-left">
                                  <ngx-avatar [name]="chcom.name" value="D" size="35"  class="avatar_icon avtar">
                                  </ngx-avatar>
                              
                              
                                <p class="prof_name" matTooltip="{{chcom.name}}"
                                matTooltipClass="example-tooltip-red" [matTooltipDisabled]="matttoltip" matTooltipPosition="below"
                                aria-label="Button that displays a tooltip when focused or hovered over">{{chcom.name}}</p>
                               
                                <p matTooltip="{{chcom.comment}}" class="replytxt mb-2" style="margin-top: -10px;" *ngIf="!editCommsentSection"
                                matTooltipClass="example-tooltip-red" [matTooltipDisabled]="matttoltip" matTooltipPosition="below"
                                aria-label="Button that displays a tooltip when focused or hovered over">{{chcom.comment}}</p>
                                </div>
                                <div *ngIf="editCommsentSection && chcom._id == documentid" class="reply_box">
                                  <form #fileData1Form="ngForm" (ngSubmit)="editcomment(fileData1Form)" name="fileData1Form" style="width:100%;">
                                    <input type="hidden" name="documentid" [(ngModel)]="documentid">
                                    <!-- <input type="text" name="comment" #editcomment1="ngModel" [(ngModel)]="comment" class="comment-input"> -->
                                    <textarea name="comment" #editcomment1="ngModel" [(ngModel)]="comment" class="form-control"></textarea>
                                    <div class="chat-button" style="width:100%;">
                                        <button type="submit" class="btn btn_reply">Edit</button>
                                      <button type="reset" class="btn btn_cancel" (click)="cancel()">Cancel</button>
                                     
                                    </div>
                                  </form>
                                </div>
                              
                              </div>
                              
  
                                    <p  class="cmnttxt cmnttxt_font kolor" *ngIf='!editCommsentSection && chcom.isreply && com._id == chcom.parentcommentid._id' style="margin-left: 68px;">
                                      <a (click)="comment1(chcom)">Edit</a>
                                      <a>
                                        <i class="fa fa-circle doticon"></i>
                                      </a>
                                      <a (click)="deletecomment(chcom,'delete')">Delete</a >
                                    </p>
                                </div>
                            </div>

                            <div class="outerbox mt-4 p-0" *ngIf="selectorid==com._id ">
                              <form #commentForm="ngForm" (ngSubmit)="replycommentdata(com,commentForm)" name="commentForm">
                              <div class="reply_box">
                              <div>
                                <ngx-avatar [name]="username" value="D" size="40"  class="avatar_icon">
                                </ngx-avatar>
                             </div>
                             <div>
                             <textarea class="form-control" [(ngModel)]="replyField" name="replyField" placeholder="Type here...." ></textarea>
                             </div>
                            </div>
                            <ul class="respond_btns">
                          <li><button class="btn btn_reply" type="submit">Reply</button></li>
                          <li><button class="btn btn_cancel" type="reset" (click)='selectorid=null'>Cancel</button></li>
                            </ul>
                            </form>
                              </div>

                             
  
                          </div>
  
                        </div>
                       
                      </div>
  
  
  
                    </a>
                  </div>
                </div>
              </div>
          </li>
        <!-- ======================== notifications ===================== -->
        <!-- ======================== notifications ===================== -->
       
        <div class="notification-top" *ngIf='!editTemplateid'>
              <!-------------------------------------- Chat notification start------------------------------------------------->
              
              <!-------------------------------------- Chat notification end------------------------------------------------->
          <li class="nav-item dropdown txt2font">
            <a class="nav-link" (click)="clearAllNotificationsactive(notificationlogs)">
              <!-- <img src="assets/images/bell.png" class="i_col fon-22 nav-link12"> -->
              <i _ngcontent-c28="" class="material-icons i_col fon-22 nav-link12 icon_hover clickicon" (click)="hide()" *ngIf="notificationshow && !editTemplateid">
                notifications_none </i>
              <i _ngcontent-c28="" class="material-icons i_col fon-22 nav-link12 icon_hover" (click)="shownofication()" *ngIf="!notificationshow && !editTemplateid">
                notifications_none </i>
              <span *ngIf='Notificationscount>0 && Notificationscount &lt; 100' class="badge  badge-sc notif_badge">{{Notificationscount}}</span>
              <span *ngIf='Notificationscount>100' class="badge  badge-sc">99+</span>
            </a>
            <div class="latest-notifications scroll-style" *ngIf="notificationshow  ">
              <div [ngClass]="{'mwi-drop' : notificationlogs && notificationlogs.length!=0 , 'mwi-drop-pro' :notificationlogs && notificationlogs.length==0,'show' :notification-close }">
                <!-- <a class="dropdown-item note_bg z txt2font fon-12 f-50 close11"> -->
                <div class="row" *ngIf='notificationlogs && notificationlogs.length>0' style="margin: 0;background-color: rgba(127, 140, 141, 0.18);">
                  <div class="col-6 ">Notifications</div>
                  <div class="col-2"></div>
                  <div class="col-4 f-right col-90 text-right btnclick11 pl-point" (click)="clearAllNotifications(notificationlogs,'notification');notification-close=true"><span>Clear
                      All</span></div>
                </div>
                <!-- </a> -->

                <!-- notification -->
                <div *ngFor='let notification of notificationlogs'>
                  <div class="row txt2font fon-14 m-auto" *ngIf='(notification.toid || notification.toemail) && ( (notification.toid && profiledata.email==notification.toid.email) || profiledata.email==notification.toemail)'>
                    <div class="col-lg-2 col-md-2 col-sm-12 mt-1 notification-flex" *ngIf="notification.fromEmail">
                      <span>
                        <ngx-avatar [name]="notification.fromEmail" value="D" size="35" [round]="true"></ngx-avatar>
                      </span></div>
                    <div class="col-lg-8 col-md-8 col-sm-12  mt-1 fw-3" (click)="NotificationNavigate(notification)">
                      <div *ngIf="notification.documentid && notification.fromEmail">
                        <div>
                          <p class="mb-0 txt-ellip">{{notification.documentid.name}}</p>
                          <p class="mb-0 txt-ellip"> {{notification.type}} by {{notification.fromEmail}}</p>
                        </div>
                        <p class="fw-4 hr-tx txt-ellip">{{notification.diff.day}} days
                          {{notification.diff.hour}} hours {{notification.diff.minute}} min
                          {{notification.diff.second}}sec
                        </p>
                      </div>
                      <div *ngIf="notification.folderid && notification.fromEmail">
                        <div>
                          <p class="mb-0 txt-ellip">Folder {{notification.folderid.name}}</p>
                          <p class="mb-0 txt-ellip"> shared by {{notification.fromEmail}}</p>
                        </div>
                        <p class="fw-4 hr-tx txt-ellip">{{notification.diff.day}} days
                          {{notification.diff.hour}} hours {{notification.diff.minute}} min
                          {{notification.diff.second}}sec
                        </p>
                      </div>
                      <div *ngIf="!notification.documentid && !notification.folderid && notification.fromEmail" class="mt-1 fw-3">
                        <p class="mb-0">Document {{notification.type}} by {{notification.fromEmail}} has been deleted.</p>
                        <p class="fw-4 hr-tx" *ngIf="notification.diff">{{notification.diff.day}} days
                          {{notification.diff.hour}} hours {{notification.diff.minute}} min
                          {{notification.diff.second}}sec
                        </p>
                      </div>
                    </div>
                    <div class="col-lg-2 col-md-2 col-sm-12  fw-3 notification-flex" (click)='clearnotification(notification);notification-close=true'>
                      <p class="pt-3 col-90" style="cursor: pointer"> Clear</p>
                    </div>
                  </div>

                  <hr class="m-0">
                </div>

                <div *ngIf="notificationlogs && notificationlogs.length==0" class="mwi-drop-pro ">
                  <a class="text-center">
                    <div class="row">
                      <div class="col-12 m-auto">
                        <img src="assets/images/Group3630.png">
                        <div class="fon-16 f-50 p-3 col-67">No notifications to show</div>
                      </div>
                    </div>
                  </a>
                </div>

              </div>
            </div>

          </li>
        </div>
        <!-- =============================== notification ends ======================= -->
        <!-- =============================== notification ends ======================= -->
        <li class="nav-item dropdown" *ngIf="profiledata && !editTemplateid">
          <a class="nav-link dropdown-toggle pt-0 " id="navbarDropdownMenuLink-334" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false" (click)="hide()">
            <ngx-avatar [name]="username" value="D" size="40" [round]="true">
            </ngx-avatar>
          </a>
          <div class="dropdown-menu txt2font dropdown-menu-right dropdown-default mwi-drop-pro p-0 menu-pad nav-main arrow_box13"
            aria-labelledby="navbarDropdownMenuLink-334" style="width:100%">
            <a class="dropdown-item">
              <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-12 mt-1 "><span>
                    <ngx-avatar [name]="username" value="D" size="40" [round]="true">
                    </ngx-avatar>
                  </span></div>
                <div class="col-lg-10 col-md-10 col-sm-12 pl-3 mt-1 fon-16 fw-3">
                  <p class="th-space txt-ellip mb-0">{{username}}</p>
                  <p class="fon-14 fw-4 si-tx-col th-space txt-ellip">{{profiledata.email}}</p>
                </div>
              </div>
            </a>
            <hr class="m-0">
            <a class="dropdown-item fon-14 fw-4 si-tx-col" data-toggle="modal" data-target=".bed-example-modal-xl">
              Change Password
            </a>
            <hr class="m-0">

            <a class="dropdown-item fon-14 fw-4 si-tx-col"  (click)='sessionsClear()'>
           Clear all other sessions
          </a>
            <hr class="m-0">

            <a class="dropdown-item fon-14 fw-4 si-tx-col" routerLinkActive="active-link" (click)='logout()'
              [routerLinkActive]="['active']">
              Sign Out
            </a>
          </div>
        </li>
      </ul>
    </span>
  </div>
</nav>
<!-- ********************************************************************Mobile View ******************************************************************************************-->
<!-- <button type="button" class="btn btn-info btn-lg m0bp0p" data-toggle="modal" data-target="#m0bsidenavv">Open Modal</button> -->
<div id="m0bsidenavv" class="m0dalstyle  d-md-none d-sm-block" role="dialog" *ngIf="(header_button == 'insertField' || header_button == 'saveFile') &&  hideshareform">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">

      <div class="modal-body">

        <div class="row" id="docsidebar1">
          <div class="col-xs-3">
            <div class="c0mpltdiv">
              <div class=" " *ngFor="let i of editIcons" (click)="setField(i.value);">
                <div class=" accord-box11 lbl-box11" [ngClass]="{'active': setF==i.value}">
                  <mat-icon matPrefix class="color">{{i.icon}}</mat-icon>
                  <div class="pl-point">{{i.name}} </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>
</div>
<div class="d-md-none"></div>
<div class="d-md-none d-sm-block" id='topbar'>
  <ul class="list01">
    <li><a class="navbar-brand">
        <i class="fas fa-arrow-left t-col b-right pr-3" (click)="navigationBackButton()"></i>
      </a></li>
    <li><a class="nav-link  t-col f-col" *ngIf="selectedDoc">{{selectedDoc.name}}<span class="sr-only">(current)</span>

      </a></li>
    <li class="nav-item dropdown" *ngIf="profiledata && !editTemplateid">
      <a class="nav-link dropdown-toggle pt-0 " id="navbarDropdownMenuLink-334" data-toggle="dropdown" aria-haspopup="true"
        aria-expanded="false" (click)="hide()">
        <ngx-avatar [name]="username" value="D" size="40" [round]="true">
        </ngx-avatar>
      </a>
      <div class="dropdown-menu txt2font dropdown-menu-right dropdown-default mwi-drop-pro p-0 menu-pad nav-main arrow_box13 mobsty"
        aria-labelledby="navbarDropdownMenuLink-334" style="width:100%">

        <a class="dropdown-item">

          <div class="row">
            <div class="col-lg-2 col-md-2 col-sm-12 mt-1 "><span>
                <ngx-avatar [name]="username" value="D" size="40" [round]="true">
                </ngx-avatar>
              </span></div>
            <div class="col-lg-10 col-md-10 col-sm-12 pl-3 mt-1 fon-16 fw-3">
              <p class="th-space txt-ellip mb-0">{{username}}</p>
              <p class="fon-14 fw-4 si-tx-col th-space txt-ellip">{{profiledata.email}}</p>

            </div>

          </div>
        </a>
        <hr class="m-0">
        <a class="dropdown-item fon-14 fw-4 si-tx-col" data-toggle="modal" data-target=".bed-example-modal-xl">
          Change Password
        </a>
        <hr class="m-0">

        <a class="dropdown-item fon-14 fw-4 si-tx-col" routerLinkActive="active-link" (click)='logout()'
          [routerLinkActive]="['active']">
          Sign Out
        </a>
      </div>
    </li>
    <li (click)="showmobiletoggle('show')" *ngIf="!mobiletogglebutton"><i class="fa fa-ellipsis-v mobmenuic0n"></i></li>
    <li (click)="showmobiletoggle('hide')" *ngIf="mobiletogglebutton"><i class="fa fa-ellipsis-v mobmenuic0n"></i></li>
  </ul>
</div>
<header class="navbar-expand head-bg flex-column flex-md-row head-stick pad-l-38  d-md-none  mobhder" id="docheader3"
  *ngIf="mobiletogglebutton">


  <div class="navbar-collapse hed-12 " (window:resize)="onWindowResize()">
    <ul class="navbar-nav mr-auto mobul01 mobmenuic0n">


      <li class="nav-item active" *ngIf="header_button != 'versions' && !editTemplateid">
        <button class="top-head-but homefont btn-sm bsha-none version m0bbtn" [ngClass]="{'m0bbtn1' : header_button == 'heatmaps' }"
          (click)="heatMaps();heatmapss=!heatmapss;buttonActive('heatmaps');savebutton=false;shareform=true;mobiletogglebutton=false" type="button">Heatmaps</button>
      </li>
      <li class="nav-item active " *ngIf="header_button != 'versions' && !editTemplateid">
        <button class="top-head-but btn-sm homefont bsha-none version m0bbtn" [ngClass]="{'m0bbtn1' : header_button == 'watermarkbtn' }"
          (click)="buttonActive('watermarkbtn');shareform=false;savebutton=false;openChat=false;mobiletogglebutton=false"
          type="button">Watermark</button>
      </li>
      <li class="nav-item active " *ngIf="header_button != 'versions' && !editTemplateid">
        <button class="top-head-but btn-sm homefont bsha-none version m0bbtn" [ngClass]="{'m0bbtn1' : header_button == 'share' }"
          (click)="buttonActive('share');shareform=true;savebutton=false;openChat=false;shareFile();sharebutton=false;mobiletogglebutton=false"
          type="button">Share</button>
      </li>

      <li class="nav-item active" *ngIf="  header_button != 'saveFile' && header_button != 'versions' && !editTemplateid">
        <button class="top-head-but btn-sm bsha-none version homefont m0bbtn" [ngClass]="{'m0bbtn1' : header_button == 'insertField' }"
          (click)="buttonActive('insertField');openChat=false;savebutton=true;shareform=true;hideshareform=true;mobiletogglebutton=false"
          type="button"><span>Insert fields</span>
        </button>
      </li>
      <li class="nav-item active " *ngIf="(header_button == 'insertField' || header_button == 'saveFile') && header_button != 'versions' && !editTemplateid">
        <button class="top-head-but btn-sm bsha-none version homefont m0bbtn" [ngClass]="{'m0bbtn1' : header_button == 'review' }"
          (click)="buttonActive('review');savebutton=false;openChat=false;shareform=true;mobiletogglebutton=false" type="button"><span>Preview</span></button>
      </li>
      <li class="nav-item active " *ngIf="editTemplateid">
        <button class="top-head-but btn-sm bsha-none version homefont m0bbtn" [ngClass]="{'m0bbtn1' : header_button == 'review' }"
          (click)="buttonActive('review');savebutton=false;openChat=false;shareform=true;mobiletogglebutton=false" type="button"><span>Preview</span></button>
      </li>
      <li class="nav-item active" *ngIf=" editTemplateid">
        <button class="top-head-but btn-sm bsha-none version homefont m0bbtn" [ngClass]="{'m0bbtn1' : header_button == 'insertField' }"
          (click)="buttonActive('insertField');openChat=false;savebutton=true;shareform=true;hideshareform=true;mobiletogglebutton=false"
          type="button"><span>Insert fields</span>
        </button>
      </li>
     
      <li class="nav-item active" *ngIf=" editTemplateid">
        <button  class="top-head-but btn-sm bsha-none version homefont m0bbtn"  
         (click)=" edittemplateDocFields()" type="button" [ngClass]="{'m0bbtn1' : header_button == 'editTemplate' }">
         <span> Save</span></button>
      </li>
      <li class="nav-item active" *ngIf="!(header_button == 'review') && savebutton && header_button != 'versions' && !editTemplateid">
        <button class="top-head-but btn-sm bsha-none homefont version m0bbtn" (click)="saveFile('fromsave'); buttonActive('saveFile');shareform=true;mobiletogglebutton=false"
          [ngClass]="{'m0bbtn1' : header_button == 'saveFile' }" type="button">Save</button>
      </li>
      <li class="nav-item active" *ngIf='!editTemplateid'>
        <button class="top-head-but btn-sm bsha-none version homefont m0bbtn" (click)="showversion();buttonActive('versions');shareform=false;savebutton=false;openChat=false;ver=true;mobiletogglebutton=false"
          [ngClass]="{'m0bbtn1' : header_button == 'versions'  }" type="button">Versions</button>
      </li>
      <li class="nav-item pad-top-4" *ngIf="onlineusers && onlineusers.length>1 && !restorebtn  && !editTemplateid">
        <i class="material-icons p-2 iconimg_nav chat-icon-left-border" (click)="chatOpen();savebutton=false; ver=false;mobiletogglebutton=false;heatmapss=false;">chat</i>
        <span *ngIf='chatnotificationlogsCount>0 ' class="badge  badge-sc2">{{chatnotificationlogsCount}}</span>
      </li>

      <li class="nav-item" *ngIf="removefav && !restorebtn && !editTemplateid" (click)="removefavorite();mobiletogglebutton=false">
        <span class="favtxt" style="padding-left: 16px;"> Remove favourites</span>
        <!-- <i class="material-icons p-2 iconimg_nav mar-top-4">
            favorite
          </i> -->

      </li>
      <li class="social-media-tooltips nav-item" *ngIf="!removefav && !restorebtn && !editTemplateid" (click)="favorite();mobiletogglebutton=false">
        <span class="favtxt" style="padding-left: 16px;">Add to favourites</span>
        <!-- <span class="social-media-tooltipstext">favorite</span> -->
        <!-- <i class="material-icons p-2 iconimg_nav mar-top-4">
            favorite_border
          </i> -->

      </li>
      <li *ngIf='templates.length>0 && !restorebtn' (click)="GetListOftemplates();mobiletogglebutton=false"
        mat-raised-button data-toggle="modal" data-target="#templatemodel" style="padding-top: 20px;">


        <span class="favtxt" style="padding-left: 16px;"> Select Template </span>

      </li>
      <li *ngIf="!isTemplateSelected" style="padding-top: 20px;">

        <span class="favtxt" style="padding-left: 16px;" (click)="mobiletogglebutton=false;showtemplate()">Save
          As Template</span>
      </li>
    </ul>
  </div>
</header>
<section>
  <div class="container-fluid" (click)="hide()">
    <div class="row">
      <!-- Accordion section -->
      <div class="col-lg-2 col-md-3 col-xs-12 col-sm-2 pt-5 bg-fff1 left-side side-col-2-bg slide-nav p-0 m0bsidenav d-none d-md-block d-sm-none contentnoselect"
        id="docsidebar" *ngIf="windowwidth >750">
        <section class="side-col-fix mobleftmenu sidescrl" *ngIf="header_button == 'insertField' || header_button == 'saveFile' ">
          <div>
            <mat-accordion>
              <mat-expansion-panel class="accordian-marg">
                <mat-expansion-panel-header>
                  <mat-panel-title class="acc-title mat-panel-title-pad">
                    Signature Fields
                  </mat-panel-title>
                </mat-expansion-panel-header>

                <div class=" " *ngFor="let i of editIcons" (click)="setField(i.value)">
                  <div class=" accord-box lbl-box" [ngClass]="{'active': setF==i.value}" *ngIf="['initial','signature', 'Stamp', 'Photo', 'label'].indexOf(i.value)!=-1">
                    <mat-icon matPrefix class="color">{{i.icon}}</mat-icon>
                    <span class="pl-point">{{i.name}} </span>
                  </div>
                  <div class="clear-fix"></div>
                </div>
              </mat-expansion-panel>
              <mat-expansion-panel class="accordian-marg">
                <mat-expansion-panel-header>
                  <mat-panel-title class="acc-title mat-panel-title-pad">
                    Signature Info Fields
                  </mat-panel-title>

                </mat-expansion-panel-header>

                <div class="" *ngFor="let i of editIcons" (click)="setField(i.value)">
                  <div class=" accord-box lbl-box" [ngClass]="{'active': setF==i.value}" *ngIf="['name', 'email', 'mobilenumber', 'company'].indexOf(i.value)!=-1">
                    <!-- <div class="accord-img" [ngClass]="i.class">
                      </div> -->
                    <mat-icon matPrefix class="color">{{i.icon}}</mat-icon> <span class="pl-point">{{i.name}} </span>
                  </div>
                  <div class="clear-fix"></div>

                </div>
              </mat-expansion-panel>
              <mat-expansion-panel class="accordian-marg">
                <mat-expansion-panel-header>
                  <mat-panel-title class="acc-title mat-panel-title-pad homefont">
                    Data Fields
                  </mat-panel-title>

                </mat-expansion-panel-header>

                <div class="" *ngFor="let i of editIcons" (click)="setField(i.value)">
                  <div class=" accord-box lbl-box" [ngClass]="{'active': setF==i.value}" *ngIf="['text', 'date', 'dropdown', 'checkbox','radiobutton'].indexOf(i.value)!=-1">
                    <mat-icon matPrefix class="color">{{i.icon}}</mat-icon>
                    <span class="pl-point">{{i.name}} </span>
                  </div>
                  <div class="clear-fix"></div>

                </div>
              </mat-expansion-panel>
            </mat-accordion>
          </div>
          <!--/.Accordion wrapper-->
        </section>
      </div>
      <!-- Accordion section -->
      <div class="col-lg-8 col-md-6 col-xs-12 col-sm-8 heig middle-col-bg scroll-style example-boundary" (click)="hide()"
        id="doc-view" (scroll)="onPdfScroll($event);" [style.height.px]="scrollHeight" (mouseover)='selectRecord=null'
        (click)="selectRecord=null;" [ngClass]="{'iphoneview': windowwidth < 750 }">
        <div class="container progressBar-container contentnoselect" id="progress_bar" *ngIf='!editTemplateid'>
          <div class="wrapper-progressBar" *ngIf="selectedDoc " id='wrapper-progressBar'>
            <ul class="progressBar mb-0 progressul">
              <li class="progressBarImg active">Uploaded</li>
              <li class="progressBarImg2" [ngClass]="{'active': selectedDoc.status == 'Waiting for Sign' || selectedDoc.status == 'Review' || selectedDoc.status == 'Partially completed' || selectedDoc.status == 'Completed'}">Shared</li>
              <li class="progressBarImg3" [ngClass]="{'active':  selectedDoc.status == 'Partially completed' || selectedDoc.status == 'Completed'}">Partially
                Completed</li>
              <li class="progressBarImg4" [ngClass]="{'active':  selectedDoc.status == 'Completed' }">Completed</li>
            </ul>
          </div>
        </div>
        <div  id="progress_bar" *ngIf='editTemplateid'></div>
        <div id="staticbar-top" *ngIf="selectedDoc" [ngClass]="{'staticbar-top':!editTemplateid}">
          <!--heat maps-->
          <div *ngIf="header_button == 'heatmaps'">
            <div *ngFor="let hm of heatmaps" class="heatmap1">
              <div *ngIf="hm.message =='selected'" class="tooltippheat">
                <!-- <div [style.top.px]='hm.top' [style.width.px]='hm.width' [style.height.px]='hm.height'
                  [style.left.px]='hm.left' class="heatmapscss" (mouseover)=mouseentered(hm)> -->
                <div [style.top.px]='getFieldTop(hm)' [style.width.px]='getFieldWidth(hm)' [style.height.px]='getFieldHeight(hm)'
                  [style.left.px]='getFieldLeft(hm,"heatmap")' class="heatmapscss" (click)="mouseentered(hm)">
                  <div id='heatmap' *ngIf='hm.tooltip' [style.left.px]="hm.tooltipleft" class="tooltiptext" #toolTip [ngClass]="{tooltiptext1: selectedcount >=2,'heatmapsedge':heatmap_tooltip,'heatmap_DOWN':heatmap_tooltip1}">
                    <table class="table trcount">
                      <thead>
                        <tr>
                          <th colspan="3" class="textt">No.of times Viewed : ({{selectedcount}})</th>
                        </tr>
                        <tr>
                          <th>Name</th>
                          <th colspan="2">Viewing Date & Time</th>
                        </tr>
                      </thead>
                      <tbody [ngClass]="{ hait: !(selectedcount < 4 )}">
                        <tr *ngFor="let names of name">
                          <td> {{names.name}}</td>
                          <td>{{names.date | date:'dd-MM-yyyy hh:mm a'}}</td>
                          <td *ngIf="names.diff"> {{names.diff.hour}} hours {{names.diff.minute}} min
                            {{names.diff.second}}sec </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div *ngFor="let ac of parentcomment">
            <div [style.top.px]='getFieldTop(ac)' [style.width.px]='getFieldWidth(ac)' [style.height.px]='getFieldHeight(ac)'
              [style.left.px]='getFieldLeft(ac)' class="oldcommenttext" (click)="openSpecificComment(ac)">
            </div>
          </div>

          <div [ngClass]="{'disableDiv' : header_button == 'review' || header_button == 'heatmaps' || header_button == 'watermarkbtn' || header_button == 'versions' || header_button == 'share' || header_button == 'editTemplate'}">
            <div *ngFor="let ac of activeComment;let i = index">
              <div [style.top.px]='getFieldTop(ac)' [style.width.px]='getFieldWidth(ac)' [style.height.px]='getFieldHeight(ac)'
                [style.left.px]='getFieldLeft(ac)' class="commenttext">
              </div>
            </div>
            <div>
              <div *ngFor="let field of fields;let i = index" class="editMode-test">
                <div    cdkDrag [cdkDragDisabled]="header_button == 'watermarkbtn' || header_button == 'review' || header_button == 'versions' || header_button == 'heatmaps'"
                (cdkDragEnded)="drop($event, field)" [ngClass]="{'editMode': header_button == 'insertField' || header_button == 'saveFile','noEditMode': header_button != 'insertField' &&  header_button != 'saveFile' }" >
                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field);  editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id, field);" (mouseout)="callMouseOut(field);" (click)='windowwidth > 750 && editField(field, i,$event)'
                    class="field {{field.id}}" id="{{field.id}}" *ngIf="field.type == 'label'" [style.top.px]='getFieldTop(field)'
                    [style.height.px]='getFieldHeight(field)' [style.width.px]='getFieldWidth(field)' [style.left.px]='getFieldLeft(field)'
                    data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)='editField(field, i,$event);showpanel()' [ngClass]="{'mobileicon': field.value}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <textarea  placeholder="Label" type="text" class="drag-box label labelpadding" name="field.{{field.id}}" 
                    [(ngModel)]="field.value" [style.text-align]='field.align' id="{{field.id}}-input" (keyup)="lableKeyUp($event, field);calculateheignt($event,field.id)"
                    [style.height.px]='getFieldHeight(field)' [style.width.px]='getFieldWidth(field)' (focus)='focusfield(field)' (mouseup)="calculateheignt($event,field.id)" 
                    [ngClass]="{'labelplaceholder':windowwidth < 750,'focuscolor':  header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id  &&  (header_button == 'insertField' || header_button == 'saveFile'))),'disableresize': (header_button == 'review' ||
                     header_button == 'heatmaps' || header_button == 'share' || header_button == 'watermarkbtn' || header_button == 'versions' || header_button == 'editTemplate')}">
                  </textarea>
                  </div>
                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id, field)" (mouseout)="callMouseOut(field)" (click)='windowwidth > 750 && editField(field, i,$event)'
                    class="field" id="{{field.id}}" *ngIf="field.type == 'text'" [style.top.px]='getFieldTop(field)'
                    [style.left.px]='getFieldLeft(field)' data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)='editField(field, i,$event);showpanel()' [ngClass]="{'mobileicon': field.value}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <input type="text" placeholder='{{field.placeholder | titlecase}}' class="drag-box label" name="field.{{field.id}}"
                      [style.width.px]='getFieldWidth(field)' [(ngModel)]="field.value" [style.text-align]='field.align'
                      id="{{field.id}}-input" (keyup)="lableKeyUp($event, field)" minlength="{{field.minvalue}}"
                      maxlength="{{field.maxvalue}}" (focus)='focusfield(field)' [ngClass]="{'focuscolor': header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}"
                      [style.height.px]='getFieldHeight(field)' />

                  </div>

                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id, field)" (mouseout)="callMouseOut(field)" (click)='windowwidth > 750 && editField(field, i,$event)'
                    class="field" id="{{field.id}}" *ngIf="field.type == 'name'" [style.top.px]='getFieldTop(field)'
                    [style.left.px]='getFieldLeft(field)' data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.value}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <span class="redsiz" [style.width.px]='getFieldWidth(field)'>
                      <input type="text" placeholder='{{field.placeholder | titlecase}}' class="drag-box label moz-label"
                        name="field.{{field.id}}" [(ngModel)]="field.value" [style.text-align]='field.align' id="{{field.id}}-input"
                        (keyup)="lableKeyUp($event, field)" minlength="{{field.minvalue}}" maxlength="{{field.maxvalue}}"
                        (focus)='focusfield(field)' [ngClass]="{'focuscolor': header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}"
                        [style.width.px]='getFieldWidth(field)' [style.height.px]='getFieldHeight(field)' />
                      <span></span></span>
                  </div>
                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);" (mousemove)="onWindowPress($event, field.id,field)"
                  (mouseout)="callMouseOut(field)" (click)=' windowwidth > 750 && editField(field, i)' class="field" id="{{field.id}}"
                  *ngIf="field.type == 'email'"  [style.top.px]='getFieldTop(field)'
                  [style.left.px]='getFieldLeft(field)' data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.value}">
                  <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i);showpanel()" [ngClass]="{'mobileicon': field.value}"></i>
                  <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                  <span class="redsiz"
                    [style.width.px]='getFieldWidth(field)'>
                    <input type="text" placeholder='{{field.placeholder | titlecase}}' class="drag-box label" name="field.{{field.id}}"
                      [(ngModel)]="field.value" [style.text-align]='field.align' id="{{field.id}}-input" (keyup)="lableKeyUp($event, field)"
                      minlength="{{field.minvalue}}" maxlength="{{field.maxvalue}}"(blur)="validateemail(field)" (focus)='focusfield(field)'
                      [ngClass]="{'focuscolor': (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile'))}"
                      [style.width.px]='getFieldWidth(field)' [style.height.px]='getFieldHeight(field)'/>
                    <span></span></span>
                  <span class="text-danger" *ngIf='!field.fieldvalidationCheck'>Invalid email</span>
                </div>

                  <div (mousedown)="onWindowPress($event, field.id,field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id,field)" (mouseout)="callMouseOut(field)" (click)='windowwidth > 750 && editField(field, i,$event)'
                    class="field" id="{{field.id}}" *ngIf="field.type == 'mobilenumber'" [style.top.px]='getFieldTop(field)'
                    [style.left.px]='getFieldLeft(field)' data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.value}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <!-- <span class="redsiz" [style.width.px]='getFieldWidth(field)'> -->
                      <input type="text" placeholder='{{field.placeholder | titlecase}}' (keypress)="numberOnly($event)"
                        class="drag-box label" name="field.{{field.id}}" [(ngModel)]="field.value" [style.text-align]='field.align'
                        id="{{field.id}}-input" (keyup)="lableKeyUp($event, field)" minlength="{{field.minvalue}}"
                        maxlength="{{field.maxvalue}}" (blur)="validateemail(field)" (focus)='focusfield(field)'
                        [ngClass]="{'focuscolor':header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}"
                        [style.width.px]='getFieldWidth(field)' [style.height.px]='getFieldHeight(field)' />
                      <!-- <span></span></span> -->
                    <span class="text-danger" *ngIf='!field.fieldvalidationCheck'>Invalid Mobilenumber</span>
                  </div>

                  <div (mousedown)="onWindowPress($event, field.id,field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id,field)" (mouseout)="callMouseOut(field)" (click)=' windowwidth > 750 && editField(field, i,$event)'
                    class="field" id="{{field.id}}" *ngIf="field.type == 'company'" [style.top.px]='getFieldTop(field)'
                    [style.left.px]='getFieldLeft(field)' data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.value}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <!-- <span class="redsiz" [style.width.px]='getFieldWidth(field)'> -->
                      <input type="text" placeholder='{{field.placeholder | titlecase}}' class="drag-box label" name="field.{{field.id}}"
                        [(ngModel)]="field.value" [style.text-align]='field.align' id="{{field.id}}-input" (keyup)="lableKeyUp($event, field)"
                        minlength="{{field.minvalue}}" maxlength="{{field.maxvalue}}" (focus)='focusfield(field)'
                        [ngClass]="{'focuscolor': header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}"
                        [style.width.px]='getFieldWidth(field)' [style.height.px]='getFieldHeight(field)' />
                      <!-- <span></span></span> -->
                  </div>

                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id, field)" (mouseout)="callMouseOut(field)" (click)=' windowwidth > 750 && editField(field, i,$event)'
                    class="field signature" id="{{field.id}}" *ngIf="field.type == 'initial'" [style.height.px]='getFieldHeight(field)'
                    [style.width.px]='getFieldWidth(field)' [style.top.px]='getFieldTop(field)' [style.left.px]='getFieldLeft(field)'
                    style="text-align: center" data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.signatureType,'contentnoselect':field.signatureType}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.signatureType}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <div (dblclick)="openModel('initialModalBtn',field)" (touchend)="openmodels($event,'initialModalBtn',field)"
                      class="drag-box label" data-text="Initial" [style.height.px]='getFieldHeight(field)'
                      [style.width.px]='getFieldWidth(field)' [style.text-align]='field.align' id="{{field.id}}-input"
                      contenteditable1="true" [ngClass]="{'focuscolor': header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}">
                      <img *ngIf="field.signatureType=='fileupload'" src="{{field.path}}" alt="signature" width="100%"
                        height="100%" class="imagereset" draggable="false" >
                      <img *ngIf="field.signatureType=='signaturepad'" [src]="field.signaturebaseData" alt="signature" draggable="false"
                        width="100%" height="100%" class="imagereset" />
                      <div *ngIf="field.signatureType=='font'">
                        <span [ngClass]="{'active':  fontstyle==field.fontStyle}" class = 'singleline' style="color:black;"
                          [style.font-family]="field.fontStyle">
                          {{field.fontText}}</span>
                      </div>
                    </div>
                  </div>

                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id, field)" (mouseout)="callMouseOut(field)" (click)='windowwidth > 750 && editField(field, i,$event)'
                    class="field signature" id="{{field.id}}" *ngIf="field.type == 'signature'" [style.height.px]='getFieldHeight(field)'
                    [style.width.px]='getFieldWidth(field)' [style.top.px]='getFieldTop(field)' [style.left.px]='getFieldLeft(field)'
                    style="text-align: center" data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData':  field.signatureType,'contentnoselect':field.signatureType}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.signatureType}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <div (dblclick)="openModel('signatureModalBtn',field)" (touchend)="openmodels($event,'signatureModalBtn',field)"
                      class="drag-box label" data-text="Signature" [style.text-align]='field.align' id="{{field.id}}-input"
                      [style.height.px]='getFieldHeight(field)' [style.width.px]='getFieldWidth(field)'
                      contenteditable1="true" (focus)='focusfield(field)' [ngClass]="{'focuscolor':header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}">
                      <img *ngIf="field.signatureType=='fileupload'" src="{{field.path}}" alt="signature" width="100%"
                        height="100%" class="imagereset" draggable="false" >
                      <img *ngIf="field.signatureType=='signaturepad'" [src]="field.signaturebaseData" alt="signature" draggable="false"
                        width="100%" height="100%" class="imagereset" />
                      <div *ngIf="field.signatureType=='font'">
                        <span id = 'Test' class = 'singleline' [ngClass]="{'active':  fontstyle==field.fontStyle}" style="color:black;"
                          [style.font-family]="field.fontStyle">
                          {{field.fontText}}</span>
                      </div>
                    </div>
                  </div>

                  <div (mousedown)="onWindowPress($event, field.id,field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id,field)" (mouseout)="callMouseOut(field)" (click)=' windowwidth > 750 && editField(field, i,$event)'
                    class="field signature" id="{{field.id}}" *ngIf="field.type == 'Photo'" [style.height.px]='getFieldHeight(field)'
                    [style.width.px]='getFieldWidth(field)' [style.top.px]='getFieldTop(field)' [style.left.px]='getFieldLeft(field)'
                    style="text-align: center" data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.photoId,'contentnoselect':field.photoId}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.photoId}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <div (dblclick)="openModel('photoModalBtn',field)" (touchend)="openmodels($event,'photoModalBtn',field)"
                      class="drag-box label" data-text="Photo" [style.text-align]='field.align' id="{{field.id}}-input"
                      contenteditable1="true" [style.height.px]='getFieldHeight(field)' [style.width.px]='getFieldWidth(field)'
                      [ngClass]="{'focuscolor': header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}">
                      <img *ngIf="field.photoId" src="{{field.path}}" alt="Photo" width="100%" height="100%" class="imagereset" draggable="false" >
                    </div>
                  </div>

                  <div (mousedown)="onWindowPress($event, field.id,field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id,field)" (mouseout)="callMouseOut(field)" (click)=' windowwidth > 750 && editField(field, i,$event)'
                    class="field signature" id="{{field.id}}" *ngIf="field.type == 'Stamp'" [style.height.px]='getFieldHeight(field)'
                    [style.width.px]='getFieldWidth(field)' [style.top.px]='getFieldTop(field)' [style.left.px]='getFieldLeft(field)'
                    style="text-align: center" data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.stampId,'contentnoselect':field.stampId}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.stampId}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <div (dblclick)="openModel('stampModalBtn',field)" (touchend)="openmodels($event,'stampModalBtn',field)"
                      class="drag-box label" [style.height.px]='getFieldHeight(field)' [style.width.px]='getFieldWidth(field)'
                      data-text="Stamp" [style.text-align]='field.align' id="{{field.id}}-input" contenteditable1="true"
                      [ngClass]="{'focuscolor': header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}">
                      <img *ngIf="field.stampId" src="{{field.path}}" alt="signature" width="100%" height="100%" class="imagereset" draggable="false">
                    </div>
                  </div>

                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id, field)" (click)=' windowwidth > 750 && editField(field, i,$event)'
                    class="field" id="{{field.id}}" *ngIf="field.type == 'date'" (mouseout)="callMouseOut(field)"
                    [style.width.px]='getFieldWidth(field)' [style.height.px]='getFieldHeight(field)' [style.top.px]='getFieldTop(field)'
                    [style.left.px]='getFieldLeft(field)' data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.value}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <input name="field.{{field.id}}" [(ngModel)]="field.value" [owlDateTime]="dt1" class="shadow-input">
                    <!-- <span class="redsiz" [ngClass]="{'resizable-input': !(header_button == 'review' || header_button == 'heatmaps' || header_button == 'share' || header_button == 'watermarkbtn' || header_button == 'versions')
                    ,'resizable-input1': (header_button == 'review' || header_button == 'heatmaps' || header_button == 'share' || header_button == 'watermarkbtn' || header_button == 'versions')}"
                      [style.width.px]='getFieldWidth(field)'> -->

                      <input readonly [disabled]="field.dateacess=='Default'" (click)='  windowwidth > 750 &&editField(field, i,$event)'
                        type="text" placeholder="{{field.pickerT=='both'?(field.dateTimeformats| uppercase):field.pickerT=='timer'?(field.timeformats| uppercase):field.dateformats | uppercase}}"
                        [value]="field.value | dateFilter:field.pickerT=='both'?(field.dateTimeformats):field.pickerT=='timer'?(field.timeformats):field.dateformats"
                        [owlDateTimeTrigger]="dt1" class="drag-box label mr-auto ml-auto dropdown-container dateAlign datepadding"
                        [style.text-align]='field.align' id="{{field.id}}-input" [style.width.px]='getFieldWidth(field)'
                        [style.height.px]='getFieldHeight(field)' (ngModelChange)="UpdateDateFormat(field)" (focus)='focusfield(field)'
                        [ngClass]="{'focuscolor':   header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}">
                      <!-- <span></span> -->
                    <!-- </span> -->
                    <owl-date-time #dt1 [hour12Timer]="true" [pickerType]="field.pickerT"></owl-date-time>
                    <i class="fa fa-times-circle close-but-in-calender dateclear" *ngIf="header_button == 'insertField' && field.value"
                      style="cursor: pointer" (click)="field.value=null"></i>
                  </div>

                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);"
                  (mousemove)="onWindowPress($event, field.id, field)" (mouseout)="callMouseOut(field)" (click)='editField(field, i,$event)'
                  class="field" id="{{field.id}}" *ngIf="field.type == 'checkbox'" [style.height.px]='getFieldHeight(field)'
                  [style.width.px]='getFieldWidth(field)' [style.top.px]='getFieldTop(field)' [style.left.px]='getFieldLeft(field)'
                  data-toggle="tooltip" title={{field.people}} [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                  <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.value}"></i>
                  <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                  <!---IOS code-->
                  <div *ngIf="macos" [ngClass]="{'resizable-input': !(header_button == 'review' || header_button == 'heatmaps' || header_button == 'share' || header_button == 'watermarkbtn' || header_button == 'versions')
                  ,'resizable-input1': (header_button == 'review' || header_button == 'heatmaps' || header_button == 'share' || header_button == 'watermarkbtn' || header_button == 'versions'),
                  'focuscolor': getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile'))}"
                    class="drag-box label ui-resizable focuscolor " id="{{field.id}}-input" [style.width.px]='getFieldWidth(field)'
                    [style.height.px]='getFieldHeight(field)' (click)='field.value = !field.value'>
                    <img *ngIf='field.value' src="assets/images/check.png" class="imagereset" 
                     [style.text-align]='field.align'
                     width="100%" height="100%">
                    <img src="assets/images/uncheck.png" *ngIf='!field.value' class="imagereset"   
                    [style.text-align]='field.align' 
                    width="100%" height="100%">
                  </div>
                  <!---IOS code end-->

                  <div *ngIf="!macos" [ngClass]="{'resizable-input': !(header_button == 'review' || header_button == 'heatmaps' || header_button == 'share' || header_button == 'watermarkbtn' || header_button == 'versions')
                  ,'resizable-input1': (header_button == 'review' || header_button == 'heatmaps' || header_button == 'share' || header_button == 'watermarkbtn' || header_button == 'versions'),
                  'focuscolor': header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}"
                    class="drag-box label" id="{{field.id}}-input" [style.width.px]='getFieldWidth(field)'
                    [style.height.px]='getFieldHeight(field)'>
                    <input *ngIf = '!safariCheck' type="checkbox" name="field.{{field.id}}" [(ngModel)]="field.value" [style.width.px]='getFieldWidth(field)'
                      [style.height.px]='getFieldHeight(field)' [style.text-align]='field.align' (keyup)="lableKeyUp($event, field)"
                      (focus)='focusfield(field)' />
                  </div>

                </div>

                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id, field)" (mouseout)="callMouseOut(field)" (click)=' windowwidth > 750 && editField(field, i,$event)'
                    class="field " id="{{field.id}}" *ngIf="field.type == 'dropdown'" [style.width.px]='getFieldWidth(field)'
                    [style.top.px]='getFieldTop(field)' [style.left.px]='getFieldLeft(field)' data-toggle="tooltip"
                    title={{field.people}} [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.value}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <mat-select [style.height.px]='getFieldHeight(field)' [style.width.px]='getFieldWidth(field)'
                      #placeNameControl placeholder='{{field.placeholder | titlecase}}' class="drag-box label " name="field.{{field.id}}"
                      [(ngModel)]="field.value" [style.text-align]='field.align' id="{{field.id}}-input" (keyup)="lableKeyUp($event, field)"
                      [ngClass]="{'focuscolor': header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}">
                      <mat-option *ngFor="let opt of field.optionvalue;let i = index" [value]='opt'>{{opt}}</mat-option>
                    </mat-select>
                  </div>

                  <div (mousedown)="onWindowPress($event, field.id, field);callMouseDown(field); editField(field, i);"
                    (mousemove)="onWindowPress($event, field.id, field)" (click)='editField(field, i,$event)' class="field radiobutton"
                    id="{{field.id}}" *ngIf="field.type == 'radiobutton'" (mouseout)="callMouseOut(field)"
                    [style.top.px]='getFieldTop(field)' [style.left.px]='getFieldLeft(field)' data-toggle="tooltip"
                    title={{field.people}} [style.width.px]='getFieldWidth(field) ' [style.height.px]='getFieldHeight(field)'
                    [ngClass]="{'filledData': field.value,'contentnoselect':field.value}">
                    <i class="fa fa-pencil pencilic0n d-md-none" (click)="editField(field, i,$event);showpanel()" [ngClass]="{'mobileicon': field.value}"></i>
                    <span class="drag-icon-span" cdkDragHandle>&nbsp;</span>
                    <div id="{{field.id}}-input" [style.width.px]='getFieldWidth(field) ' [style.height.px]='getFieldHeight(field)'
                      class="drag-box label " [ngClass]="{'focuscolor':   header_button != 'review' && (getHighlight(field) || (editF && editF.id == field.id &&  (header_button == 'insertField' || header_button == 'saveFile')))}">
                      <span *ngFor="let radiotext of field.optionvalue;let i = index" id="{{field.id}}-input" class='radiobuttonalign'>
                        <input type='radio' *ngIf='radiotext.length > 0'  id="{{field.id}}-input" placeholder="{{field.value}}" name="field.{{field.id}}" [(ngModel)]="field.value"
                          [style.text-align]='field.align' (keyup)="lableKeyUp($event, field)" [(value)]='radiotext'
                          (focus)='focusfield(field)'>{{radiotext}}
                        <div *ngIf='field.radiobuttondisplay=="newline"'></div>
                      </span>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
          <div>
            <pdf-viewer *ngIf="selectedDoc" [ngClass]="{ 'no_selection':clearselect,'fieldLabelCursor': setF=='label', 'fieldTextCursor': setF == 'text', 'fieldDateCursor': setF=='date', 'fieldSignatureCursor': setF == 'signature', 'fieldPhotoCursor': setF == 'Photo', 'fieldStampCursor': setF == 'Stamp', 'fieldCheckBoxCursor' : setF == 'checkbox' ,'fieldIntialCursor':setF =='initial','fieldNameCursor':setF =='name','fieldEmailCursor':setF=='email','fieldMobileCursor':setF=='mobilenumber','fieldCompanyCursor':setF=='company','fieldDropDownCursor':setF=='dropdown','fieldRadioCursor':setF=='radiobutton'}"
              (click)="val($event)" id="blog-post" class="blog-post example-boundary" [src]="selectedDoc.path" [zoom]="zoomVal"
              [render-text]="true" (page-rendered)="loadPDF($event)" (after-load-complete)="afterLoadComplete($event)"></pdf-viewer>
          </div>
        </div>
        <div>


          <!-- *ngIf="header_button != 'review'" -->
          <div>
            <div *ngFor="let film of parentcomment">
              <mat-card (click)="replycomment(film)" class="addcommentfield example-card" [style.top.px]='getFieldTop(film) + getFieldHeight(film) + 20'
                [style.left.px]='getFieldLeft(film)' *ngIf="profiledata && commentid == film._id && film.showComment">
                <div class="text-right"> <button (click)="commentid=comment=null; film.showComment=false;" class="example-card-close"
                    type="button"><i class="fa fa-times close-icon-pos" aria-hidden="true"></i></button></div>
                <ul _ngcontent-c1="" class="boxul m-0">
                  <li _ngcontent-c1="">
                    <!-- <div _ngcontent-c1="" class="style1">J</div> -->
                    <ngx-avatar [name]="film.name" value="D" size="35" >
                    </ngx-avatar>
                  </li>
                  <li _ngcontent-c1="" class="li1 mrgn12">
                    <div _ngcontent-c1="" class="profname fon-16 headfont fw-4 spacewrap" data-toggle="tooltip" title={{film.name}}>{{film.name}}
                    </div>
                    <!-- <div _ngcontent-c1="" class="subtxt">13.02</div> -->
                  </li>
                  <li _ngcontent-c1="" class="li1 mrgn12">
                    <button *ngIf="film.status=='pending'" (click)="deletecomment(film,'resolve')" [disabled]='film.resolve'
                      class="btn resolve-button lftmove">Resolve</button>
                  </li>
                  <li _ngcontent-c1="" class="li1 mrgn12" *ngIf="film.uid">
                    <button mat-button *ngIf="film.status=='resolve' && film.uid._id==profiledata._id" class="btn reset-button"
                      [disabled]='film.ok' (click)="deletecomment(film,'ok')">ok</button>
                  </li>
                  <li _ngcontent-c1="" class="li1 mrgn12" *ngIf="!film.uid">
                    <button mat-button *ngIf="film.status=='resolve' && profiledata.email == film.email" class="btn reset-button"
                      [disabled]='film.ok' (click)="deletecomment(film,'ok')">ok</button>
                  </li>
                  <li _ngcontent-c1="" *ngIf='film.isreply'><button mat-button [matMenuTriggerFor]="menu" class="btn reset-button1 text-left">
                      <mat-icon>more_vert</mat-icon>
                    </button></li>
                </ul>
                <p class="word-breaking">{{film.comment}}</p>

                <mat-menu #menu="matMenu">
                  <button *ngIf="accessbutton" (click)="comment1(film)" mat-menu-item>Edit</button>
                  <button *ngIf="accessbutton" (click)="deletecomment(film,'delete')" mat-menu-item>Delete</button>
                </mat-menu>
                <div *ngIf="editCommsentSection && film._id == documentid">
                  <form #fileData1Form="ngForm" (ngSubmit)="editcomment(fileData1Form)" name="fileData1Form" style="width:100%;">
                    <input type="hidden" name="documentid" [(ngModel)]="documentid">
                    <!-- <input type="text" name="comment" #editcomment1="ngModel" [(ngModel)]="comment" class="comment-input"> -->
                    <textarea  name="comment" #editcomment1="ngModel" [(ngModel)]="comment" class="form-control"></textarea>
                    <div class="chat-button" style="width:100%;">
                        <button type="submit" class="btn btn_reply">Edit</button>
                      <button type="reset" class="btn btn_cancel" (click)="cancel()">Cancel</button>
                     
                    </div>
                  </form>
                </div>
                <div *ngFor="let film1 of childcomments" class="comment-clear">
                  <div *ngIf="film._id == film1.parentcommentid._id">
                    <ul _ngcontent-c1="" class="boxul">
                      <li _ngcontent-c1="">
                        <ngx-avatar [name]="film1.name" value="D" size="35" 
                        >
                        </ngx-avatar>
                      </li>
                      <li _ngcontent-c1="" class="li1">
                        <div _ngcontent-c1="" class="profname fon-16 headfont fw-4 spacewrap" data-toggle="tooltip"
                          title={{film1.name}}>{{film1.name}}
                        </div>
                      </li>
                      <div *ngIf='film1.isreply'>
                        <li _ngcontent-c1="" class="li1"><button mat-button [matMenuTriggerFor]="menu2" class="btn reset-button text-left">
                            <mat-icon>more_vert</mat-icon>
                          </button></li>
                      </div>
                    </ul>
                    <div>
                      <p class="word-breaking">{{film1.comment}}</p>
                      <mat-menu #menu2="matMenu">
                        <button (click)="comment1(film1)" mat-menu-item>Edit</button>
                        <button (click)="deletecomment(film1,'delete')" mat-menu-item>Delete</button>
                      </mat-menu>
                    </div>
                    <div *ngIf="editCommsentSection && film1._id == documentid">
                      <form #fileData2Form="ngForm" (ngSubmit)="editcomment(fileData2Form)" name="fileData2Form" style="width:100%;">
                        <!-- <input type="text" name="comment" [(ngModel)]="comment" class="comment-input"> -->
                        <textarea name="comment" [(ngModel)]="comment" class="form-control"></textarea>
                        <input type="hidden" name="documentid" [(ngModel)]="documentid">
                        <div class="chat-button" style="width:100%;">
                            <button type="submit" class="btn btn_reply">Edit</button>
                          <button type="reset" class="btn btn_cancel" (click)="cancel()">Cancel</button>
                         
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
                <div *ngIf="selectorid==film._id ">
                  <form #commentForm="ngForm" (ngSubmit)="replycommentdata(film,commentForm)" name="commentForm">
                    <mat-form-field class="comment-reply">
                      <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="2"
                        cdkAutosizeMaxRows="100" [(ngModel)]="replyField" name="replyField" placeholder="Reply"></textarea>
                    </mat-form-field>
                    <div class="chat-button">
                      <button type="reset" class="btn reset-button">Reset</button>
                      <button type="submit" class="btn btn-primary comment-button">Reply</button>
                    </div>
                  </form>
                </div>
              </mat-card>
            </div>
            <div *ngFor="let ac of activeComment;let i = index">
              <div class="addcommentbox" [style.top.px]='getFieldTop(ac)' (click)="commentfield(ac);comment=''"><i class="material-icons">alarm_add</i></div>
              <div *ngIf="ac.commentbtn " class="addcommentfield" [style.top.px]='getFieldTop(ac) + getFieldHeight(ac) +20'
                [style.left.px]='getFieldLeft(ac)'>

                <form #commentForm="ngForm" (ngSubmit)="addComment(commentForm,ac)" name="commentForm">
                  <div class="box1 sb6">
                    <div class="text-right"> <button (click)="commentfield(ac);comment=null;" class="example-card-close"><i
                          class="fa fa-times close-icon-pos" aria-hidden="true"></i></button></div>
                    <ul _ngcontent-c1="" class="boxul">
                      <li _ngcontent-c1="">
                        <!-- <div _ngcontent-c1="" class="style1">J</div> -->
                        <ngx-avatar [name]="username" value="D" size="35" >
                        </ngx-avatar>
                      </li>
                      <li _ngcontent-c1="" class="li1"><span _ngcontent-c1="" class="profname fon-16 headfont fw-4">
                          {{username}}</span>
                        <!-- <div _ngcontent-c1="" class="subtxt">13.02</div> -->
                      </li>
                      <!-- <li _ngcontent-c1="" class="li1"><i _ngcontent-c1="" class="fas fa-trash-alt trshicn"></i></li>
                            <li _ngcontent-c1="" class="li1"><i _ngcontent-c1="" class="fa fa-ellipsis-v ellipsicn"></i></li> -->
                    </ul>
                    <!-- <textarea class="chat-textarea" type="text" [(ngModel)]="comment" placeholde="password must be 8 to 14 characters" name="comment"></textarea> -->

                    <mat-form-field class="chat-textarea">
                      <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="2"
                        cdkAutosizeMaxRows="100" class="ov-non" [(ngModel)]="comment" name="comment"></textarea>
                    </mat-form-field>
                    <!-- <p>Viewers of this file can see, comment and suggest.</p> -->
                    <div class="chat-button">
                      <button type="reset" class="reset-button btn" (click)="commetClose(ac)">Reset</button>
                      <button type="submit" class="comment-button btn" (click)="addComment(commentForm,ac)">Comment</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-3 label-nav bg-w pdng m0brightsidemenu d-none d-sm-none d-md-block contentnoselect" (mouseover)='selectRecord=null'
        (click)="selectRecord=null;">
        <div class="gap-bw-cads" *ngIf="(header_button == 'review' ||(shareform && editF==null)) && !openChat && !newChat">
          <div *ngIf="fields">
            <div *ngIf=" sharedemails && sharedemails.length == 0 && !editTemplateid && (fieldsForDelete && fieldsForDelete.length == 0)" class="col-md-12 text-center">
              <button class=" btntxt" [disabled]="disableShareButton" (click)="shareFile();recepients=false" type="button"><span
                  class="spncss"><i class='fas fa-location-arrow locationicn'></i></span>Add Recepients</button>
            </div>
            <!-- <div *ngIf="fields.length >0 && sharebutton" class="col-md-12 text-center mb-3">
              <button class=" btntxt" [disabled]="disableShareButton" (click)="shareFile();sharebutton=false"><span
                  class="spncss"><i class='fas fa-location-arrow locationicn'></i></span>Share</button>
            </div> -->
            <div class="col-md-12 text-center">
              <button class=" btntxt" *ngIf="selectedDoc && selectedDoc.status=='Completed' && (fieldsForDelete && fieldsForDelete.length == 0)" (click)="sharethisdocument()"
                type="button"><span class="spncss"><i class="fas fa-file-medical createdocument"></i></span>Save as New
                Document</button>
            </div>

            <ul *ngIf="sharedemails && (fieldsForDelete && fieldsForDelete.length == 0)" class="addrecepients-emails-lists scroll-height list1tems pl-point">
              <li *ngFor="let i of sharedemails" (mouseover)='selectRecord = i._id;$event. stopPropagation();' (click)="selectRecord = i._id;$event. stopPropagation();"
                [ngClass]="{'listItem-selected': selectRecord == i._id}">
                <p class="pad-l-1rem txt-ellip p123" style="width:70%;">
                  <!-- <img class="img112" src="https://raw.githubusercontent.com/eladnava/material-letter-icons/master/dist/png/R.png" width="15%;"> -->
                  <ngx-avatar *ngIf='i.toid  && i.toid.name' class="img112" [name]="i.toid.name" value="D" size="35"
                    [round]="true" class="pull-left pr-3"></ngx-avatar>
                  <ngx-avatar *ngIf='i.toid && !i.toid.name' class="img112" [name]="i.toid.companyname" value="D" size="35"
                    [round]="true" class="pull-left pr-3"></ngx-avatar>
                  <ngx-avatar *ngIf='!i.toid' class="img112" [name]="i.toemail" value="D" size="35" [round]="true"
                    class="pull-left pr-3"></ngx-avatar>
                  <span matTooltipClass="example-tooltip-red" matTooltip={{i.toemail}} [ngClass]="{'email-middle': !i.toid}">{{i.toemail}}</span>
                  <span *ngIf='i.toid && i.toid.name' class="emailName">({{i.toid.name}})</span>
                  <span *ngIf='i.toid && !i.toid.name' class="emailName">({{i.toid.companyname}})</span>

                </p>


                <div class="agrementcopy-changes" *ngIf='selectRecord == i._id'>
                  <span class="revokeicon" matTooltip="Edit access" matTooltipClass="example-tooltip-red2" aria-label="Button that displays a red tooltip when focused or hovered over"><i
                      class="fas fa-pen pl-point arrgementcopy-edit" (click)='EditSharedEmail(i)'></i></span>
                  <span *ngIf='i.revoke' class="revokeicon" matTooltip="Un Revoke" matTooltipClass="example-tooltip-red2"
                    aria-label="Button that displays a red tooltip when focused or hovered over"><i class="fas fa-redo-alt  pl-point arrgementcopy-restor"
                      (click)='revokeFun(i)'></i></span>
                  <span *ngIf='!i.revoke' class="revokeicon" matTooltip="Revoke" matTooltipClass="example-tooltip-red2"
                    aria-label="Button that displays a red tooltip when focused or hovered over"><i class="fa fa-undo  pl-point arrgementcopy-restor"
                      (click)='revokeFun(i)'></i></span>
                  <span [hidden]="(i.signed || i.reviewed)" class="revokeicon" matTooltip="Remove access"
                    matTooltipClass="example-tooltip-red2" aria-label="Button that displays a red tooltip when focused or hovered over"><i
                      class="fas fa-trash-alt  pl-point arrgementcopy-delete" (click)='RemoveShareduser(i)'></i></span>
                </div>


              </li>
            </ul>
            <!-- <ul *ngIf="usernames" class="addrecepients-emails-lists">
                  <li *ngFor="let i of usernames"><p>{{i.name}}</p></li>
              </ul> -->
          </div>
          <div class="save-temp">
            <hr class="col-md-12 linecss select-temp--hr-line">
            <div class="checkbox footer-template">
              <!-- <label><input type="checkbox" name="remember"> Save as Template</label> -->
              <!-- <button class="btntxt1 btn btn-primary btn-md" data-toggle="modal" data-target="#okpopup">Save as Template</button> -->
              <button class="btntxt1 btn btn-primary btn-md" *ngIf='templates.length>0 && !restorebtn && !editTemplateid' (click)="GetListOftemplates();showselecttemplate()"
                mat-raised-button type="button">
                Select Template </button>
              <button id="selecttemplate" hidden data-toggle="modal" data-target="#templatemodel"></button>

            </div>
            <div class="checkbox footer-template" *ngIf="!isTemplateSelected">
              <button type="submit" class="btntxt1 btn btn-primary btn-md" (click)="showtemplate();templateSave=false;" type="button">Save
                As Template</button>
              <button id="saveastemplate" hidden data-toggle="modal" data-target=".bd-example-modal-lg"></button>
            </div>
            <div class="checkbox footer-template" *ngIf="isTemplateSelected && !editTemplateid">
              <button  class="btntxt1 btn btn-primary btn-md" (click)="backToOriginal()" type="button">Back
                to Original</button>
            </div>
           
          </div>


          <!-- ==================================================preview & share popup starts==================================== -->






          <!-- ==================================================Save Pdf File==================================== -->



          <!-- ==================================================preview & share popup ends==================================== -->

          <!-- ================================================= starts ok sucess pop up ====================================== -->

          <button class="btntxt1 btn btn-primary btn-md" hidden id="callpopup" data-toggle="modal" data-target="#okpopup">Save
            as Template</button>
          <div class="modal fade" id="okpopup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            data-keyboard="false" aria-hidden="true">
            <div class="modal-dialog  modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="">

                  <button type="button" class="close out-li-non" data-dismiss="modal" id="okpopupclose" aria-label="Close">
                    <span aria-hidden="true" class="pad-10px">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="temp-sav-pad">
                    <span><img src="assets/images/Group4384.png"></span>
                    <span class="temp-save-para">{{templateMsg}}</span>
                  </div>

                  <div class="text-center">
                    <button class="ok-but-new-temp-pop" data-dismiss="modal" type="button">Ok</button>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <!-- ================================================= ends ok sucess pop up ====================================== -->

          <!-- ========================================existing  templates   pop-up starts=============================== -->
          <button hidden id="tempbtn" mat-raised-button data-toggle="modal" data-target="#templatemodel"></button>


        </div>
        <div *ngIf="editF && editF.type && (header_button == 'insertField'  || header_button == 'saveFile' ) && !openChat && (fieldsForDelete && fieldsForDelete.length == 0)"  class="delete-field"  >
          <form #configField="ngForm" (ngSubmit)="saveFieldSettings(configField.value,editF)" name="configField">
            <div class="new-stick">
              <div class="close-butn-in-form">
                <button class="no-bor" (click)="closeEditform();" type="button"><img src="assets/images/Group2628.png"></button>
              </div>
              <div class="text-center" [ngClass]="{'disableDiv': !youCanSave,'disablefields':!youCanSave}">
                <button class="del-field" type="button" (click)="deleteField(editF,'single')" type="button">Delete field</button>
              </div>
              <hr class="hr-line">
            </div>
            <div class="container form-overflow-content scroll-style middle-div" [style.height.px]="fieldHeight" [ngClass]="{'disableDiv': !youCanSave,'disablefields':!youCanSave}">
              <ng-container *ngFor="let cf of ConfigFields">
                <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="radio"'>
                  <label class="fon-12 black-colr lbl01 font-size-firefox">{{cf.name | titlecase}} <span *ngIf="cf.healpText" class="help-text"
                      matTooltip="{{cf.healpText}}" mattooltipposition="below" matTooltipClass="example-tooltip-ex"
                      aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span></label>
                  <div *ngFor="let val of cf.values">
                    <div [ngClass]="cf.class">
                      <input class="text-input" type="radio" name="{{cf.key}}" [(ngModel)]="editF[cf.key]" [(value)]='val'
                        (change)="updateFieldCss(editF);assignRadio(editF, cf.key)" />
                      <label class="text-label" for="defaultInline1">{{val | titlecase}}</label>
                    </div>
                  </div>
                </div>
                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="textarea"'>
                  <label class="fon-12 black-colr font-size-firefox">{{cf.name | titlecase}}<span *ngIf="cf.healpText" class="help-text"
                      matTooltip="{{cf.healpText}}" mattooltipposition="below" matTooltipClass="example-tooltip-ex"
                      aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span></label>
                  <textarea class="form-control" [(ngModel)]="editF[cf.key]" name="{{cf.key}}" placeholder="Enter {{cf.name}}"
                    (change)="updateFieldCss(editF)"></textarea>
                </div>
                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="text"'>
                  <p class="fon-12 place-holder-marg black-colr font-size-firefox">{{cf.name | titlecase}} <span *ngIf="cf.healpText"
                      class="help-text" matTooltip="{{cf.healpText}}" mattooltipposition="below" matTooltipClass="example-tooltip-ex"
                      aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span></p>
                  <input type="text" class="form-control" [(ngModel)]="editF[cf.key]" name="{{cf.key}}" placeholder="Enter {{cf.name}}">
                </div>
                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="dropdown"'>
                  <label for="sel1" class="fon-12 black-colr font-family-heading font-size-firefox">{{cf.name | titlecase}} <span *ngIf="cf.healpText"
                      class="help-text" mattooltipposition="below" matTooltip="{{cf.healpText}}" matTooltipClass="example-tooltip-ex"
                      aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span></label>
                  <div class="input-group input-bod-radius pl-point select-family">
                    <select name="{{cf.key}}" class="form-control font-size-feild" [(ngModel)]="editF[cf.key]" (change)="updateFieldCss(editF)">
                      <option *ngFor="let val of cf.values" [ngValue]="val">{{val}}</option>
                    </select>
                  </div>
                </div>


                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="colorPicker"'>
                  <!-- <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="colorPicker1"'> -->
                  <label class="fon-12 black-colr font-size-firefox">{{cf.name | titlecase}} <span *ngIf="cf.healpText"
                      class="help-text" matTooltip="{{cf.healpText}}" matTooltipClass="example-tooltip-ex" aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span></label>
                  <div class="font-clor pl-point ">
                    <p class="font-clor-sub" [(colorPicker)]="editF[cf.key]" [style.background]="editF[cf.key]"
                      (colorPickerChange)="updateFieldCss(editF)">
                    </p>
                  </div>
                  <!-- </div> -->
                </div>


                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="checkbox_icons"'>
                  <label class="fon-12 black-colr font-size-firefox">{{cf.name | titlecase}} <span *ngIf="cf.healpText" class="help-text"
                      matTooltip="{{cf.healpText}}" matTooltipClass="example-tooltip-ex" aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span></label>
                  <div>
                    <span *ngFor="let val of cf.values" (click)="selectOption(val)" [ngClass]="{'checkboxactive': editF[val.assingto] == val.value}"
                      class="pl-point" style=" display: inline-block;"> <i class="material-icons">{{val.icon}}</i></span>
                  </div>
                </div>


                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="rotate"'>
                  <span class="fon-12 black-colr font-size-firefox ">{{cf.name | titlecase}} <span *ngIf="cf.healpText" class="help-text"
                      matTooltip="{{cf.healpText}}" matTooltipClass="example-tooltip-ex" aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span>:</span>
                  <span>
                    <!-- <input type="range" min="0" max="360" value="7" [(ngModel)]="editF[cf.key]" name="editF[cf.key]" (input)="updateFieldCss(editF)" (change)="updateFieldCss(editF)" /> -->
                    <mat-slider thumbLabel [displayWith]="formatLabel" class="example-margin" type="range" min="0" max="360"
                      [(ngModel)]="editF[cf.key]" name="{{cf.key}}" (input)="updateFieldCss(editF)" (change)="updateFieldCss(editF)">
                      &#176;
                    </mat-slider>
                  </span>
                </div>
                <!-- value="7" -->

                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="number"'>
                  <div (change)=" (editF)">
                    <label class="fon-12 black-colr font-size-firefox">{{cf.name | titlecase}}<span *ngIf="cf.healpText" class="help-text"
                        matTooltip="{{cf.healpText}}" matTooltipClass="example-tooltip-ex" aria-label="Button that displays a red tooltip when focused or hovered over">

                        <i class="fa fa-question"></i></span></label>
                    <!-- <input type="number" class="form-control" [(ngModel)]="editF[cf.key]" name="editF[cf.key]"
                                           placeholder="Enter {{cf.name}}"> -->
                    <div class=" quantity">
                      <input type="number" class="form-control" [(ngModel)]="editF[cf.key]" name="{{cf.key}}"
                        placeholder="Enter {{cf.name}}">
                      <div class="quantity-nav">
                        <div class="quantity-button quantity-up" (click)="updateNumber(cf.key, 'plus')">+</div>
                        <div class="quantity-button quantity-down" (click)="updateNumber(cf.key, 'minus')">-</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="checkbox"' (change)="updateFieldCss(editF)">
                  <input type="checkbox" [(ngModel)]="editF[cf.key]" name="{{cf.key}}">
                  <label class="fon-12 black-colr space font-size-firefox">{{cf.name | titlecase}} <span *ngIf="cf.healpText" class="help-text"
                      matTooltip="{{cf.healpText}}" matTooltipClass="example-tooltip-ex" aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span></label>
                  <!-- <label class="space">{{cf.name}}</label> -->
                </div>
                <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="autocomplete"' [ngClass]="cf.class">
                  <label class="fon-12 black-colr font-size-firefox">{{cf.name | titlecase}}
                    <span *ngIf="cf.healpText" class="help-text" matTooltip="{{cf.healpText}}" matTooltipClass="example-tooltip-ex"
                      aria-label="Button that displays a red tooltip when focused or hovered over">

                      <i class="fa fa-question"></i></span>
                  </label>
                  <mat-form-field class="example-full-width">
                    <input type="text" placeholder="Enter email" [formControl]="formControl" matInput [matAutocomplete]="auto"
                      [(ngModel)]="editF[cf.key]" name="{{cf.key}}" (focus)="add(editF,true,'people')" (blur)='add(editF,false,"people")'>
                    <mat-autocomplete #auto="matAutocomplete">
                      <mat-option *ngFor="let option of filteredOptions | async" [(value)]="option">
                        {{option}}
                      </mat-option>
                    </mat-autocomplete>
                  </mat-form-field>
                  <div class="text-danger" *ngIf="!editF.emailvalid">Please Enter valid email </div>
                </div>

                <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="dependency" && editF.dependencytype'
                  [ngClass]="cf.class">
                  <label class="fon-12 black-colr font-size-firefox">{{cf.name | titlecase}} <span *ngIf="cf.healpText" class="help-text"
                      matTooltip="{{cf.healpText}}" mattooltipposition="below" matTooltipClass="example-tooltip-ex"
                      aria-label="Button that displays a red tooltip when focused or hovered over">
                      <i class="fa fa-question"></i></span></label>
                    <mat-form-field class="example-full-width">
                      <input type="text" placeholder="Enter email" [formControl]="formControlForDependency" matInput [matAutocomplete]="auto"
                        [(ngModel)]="editF[cf.key]" name="{{cf.key}}" (focus)="add(editF,true,'dependency')" (blur)='add(editF,false,"dependency")'>
                      <mat-autocomplete #auto="matAutocomplete">
                        <mat-option *ngFor="let option of filteredOptionsForDependency | async" [(value)]="option">
                          {{option}}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  <div class="text-danger" *ngIf="!editF.dependencyEmailerror">Please Enter valid email </div>
                </div>
              </ng-container>
            </div>
            <div class="agrement-changes">
              <!-- <div class="text-center">
                <button type="submit" class="save-changes fon-12">Save Changes</button>
              </div> -->
              <div class="text-center">
                <button class="cancel fon-12" type="button" (click)="closeEditform()">Cancel</button>
              </div>
            </div>
          </form>
        </div>
        <div *ngIf='fieldsForDelete && fieldsForDelete.length > 0 && header_button != "review"' class="text-center" [ngClass]="{'disableDiv': !youCanSave,'disablefields':!youCanSave}">
          <button class="del-field" type="button" (click)="deleteField(true,'multi')" type="button">Delete field</button>
        </div>

        <!-- ========================================================versions start========================================================= -->

        <div *ngIf="header_button == 'versions' && ver" style="padding: 0 15px 0 15px">
          <div class="versionnav no-gutter bg-wite" id="style-1">
            <!-- for scroller, use class = scroller -->

            <div class="row no-gutter ver-tpad vrheadrow bg-wite">
              <div class="col-md-8 col-lg-8">
                <span class="versiontitle">Versions</span>
              </div>
              <div class="col-md-4 col-lg-4">
                <button type="button" class="close clsbtn btn123" data-dismiss="modal" (click)="back();" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            </div>

            <div class="no-gutter scroller scrollbar force-overflow bg-wite" id="style-1" [style.height.px]="fieldHeight">
              <div class="versionNoData" *ngIf="allDocVersionsResult && allDocVersionsResult.length==0">No Versions
                Found</div>
              <div>
                <div class="modal-body tday bg-wite" *ngFor="let version of allDocVersionsResult">
                  <div [ngClass]="{'highl-col': selectedversionid==version._id}" (click)="choosedversion(version._id)"
                    (dblclick)="currentVersionDoc(version)" (touchend)="selectversions($event,version)">
                    <div class="row">
                      <div class="tdaycontent" [ngClass]="{'tdaycontent-active': restoreVersionId==version._id}">
                        <!-- [ngClass]="{'tdaycontent-active':selectedversionid==version._id}" -->
                        <span class="editbutton" *ngIf="selectedversionid==version._id && hideedit" (click)="editVersionName(version)">
                          <img src="assets/images/ico-but-edit.png" class="hoverimg"></span>
                        <span class="editbutton" *ngIf="selectedversionid==version._id && canedit && hidesave" (click)="saveversionfield(copdocument)">
                          <img src="assets/images/ico-but-save.png" class="hoverimg"></span>
                        <!-- <button type="button" (click)="editVersionName(version)">edit</button> -->
                        <!-- <button type="button" *ngIf="hidesave" (click)="saveversionfield(version)">save</button> -->
                        <span class="line2">
                          <input *ngIf="selectedversionid==version._id && canedit" class="edit-input" type="text" name="versionname"
                            [(ngModel)]="copdocument.versionname" required #versionname1=ngModel>
                          <span *ngIf="versionNameRequired && selectedversionid==version._id && canedit" class="text-danger smedia-text-b error-msg-required">Required</span>
                          <h3 class="smedia-text-b pad-for-date m0btxt01" *ngIf="!(selectedversionid==version._id && canedit)">
                            {{version.versionname}}</h3>
                          <p class="smedia-text-s date-pos m0btxt01">{{version.created_at | date:'MMM d, y, h:mm:ss
                            a'}}</p>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="clearfix"></div>

          </div>
          <div class="clearfix"></div>
          <div class="row dt-tpad vrheadrow"></div>
          <div class="row but-container">
            <button *ngIf='restorebtn' (click)="restoreVesrion(selectedversionid)" class="but-restore" type="button">Restore
              Version</button>
            <button class="but-restore" *ngIf='restorebtn' (click)="back();" type="button"> Back </button>
          </div>

          <div class="clearfix"></div>
        </div>

        <!-- =======================================================versions end============================================================= -->


        <div class="bg-wite" >
          <!--*********************************chat-notifications********************************* -->
<div class="chat_notif_outerdiv" id="chat_notif_scroll"  [style.height.px]="scrollHeight" *ngIf="  openChat && !newChat" style="overflow-y: scroll;">
  <div class="" style='display: flex;'>
    <div class="col-md-6"><p class='chatnot'>Chat Notifications</p></div>
    <div class="col-md-6"  (click)="clearAllNotifications(chatnotificationlogs,'chat')"><p class="markasread">Mark all as read</p></div>
    </div>
    <a class="chat_notif1 notif_read"   *ngIf = 'chatnotificationlogs.length'>
      <div class="file_name"  >
        <button class="btn btn-css" (click)=" newChat = true;shareform = false;openChat = false">Start chat</button>
      </div> 
    </a>
  <a class="chat_notif1" *ngFor='let notification of chatnotificationlogs;let i = index' [ngClass]="{'notif_read':notification.active}" (click)='clearnotification(notification)'>
    <div class="prof_avtar" *ngIf='notification.type == "chat" && (notification.toid || notification.toemail) && ((notification.toid && profiledata.email==notification.toid.email) || profiledata.email==notification.toemail)'
    >
      <ngx-avatar [name]="notification.fromEmail" value="D"  [round]="true"
      *ngIf="notification.fromEmail" size="35" class="avatar_icon avtar chat_notif_avtar">
      </ngx-avatar>
    </div>
    <div class="file_name"  *ngIf="notification.documentid">
     <p class="mb-0 file_head" matTooltipClass="example-tooltip-red" matTooltip={{notification.documentid.name}}>{{notification.documentid.name}}</p>
      <span class="chat_by">{{notification.type}} by {{notification.fromEmail}} </span>
      <!-- <p  class="fw-4 hr-tx mb-0 font_size">12 days 18 hours 38 min 30sec</p> -->
      <p class="fw-4 hr-tx mb-0 font_size" *ngIf="notification.diff">{{notification.diff.day}} days
        {{notification.diff.hour}} hours {{notification.diff.minute}} min
        {{notification.diff.second}}sec</p>
        <a (click)="NotificationNavigate(notification)" class='navigation'>Go to</a>

    </div>

    <div class="file_name"  *ngIf="notification.folderid">
     Folder {{notification.folderid.name}}
      <span class="chat_by">{{notification.type}} by {{notification.fromEmail}}</span>
    </div>

    <div class="file_name"  *ngIf="!notification.documentid && !notification.folderid && notification.fromEmail">
     Folder {{notification.folderid.name}}
      <span class="chat_by">Document {{notification.type}} by {{notification.fromEmail}} has been
       deleted.</span>
    </div>
  </a>
 
 </div>
  
  
  
 <!-- ************************************chat-notifications end********************************* -->
          <app-chat *ngIf=" newChat && !openChat" [chatContent]="_id" [emailContent]="profiledata.email" [profile]="profiledata"
            class="bg-wite"></app-chat>
        </div>
        <div class="watermark-width" *ngIf="header_button == 'watermarkbtn' && !openChat && waterMark && waterMark.watermarkTitle">

          <div class="mar-t-1">
            <span class="close-right" (click)="buttonActive('review');shareform=true">
              <img src="assets/images/Group3807.png"></span>
            <h6 class="black-clr">Water Mark Settings</h6>
          </div>
          <hr class="water-mrk-hr-line">
<div class="scroll-1">
          <div class="col-md-12 mb-3 pdng-0">
            <mat-radio-group aria-label="Select an option" [(ngModel)]="waterMark.watermarkTitle" >
                <mat-radio-button   
                value='image' class="mat_radio_button black-clr fon-12 wtr-font" (change)='waterMark.watermarkTitle = "image"'>Image</mat-radio-button>
                <mat-radio-button    
                value='text' class="mat_radio_button black-clr fon-12 wtr-font" (change)='waterMark.watermarkTitle = "text"'>Text</mat-radio-button>
              </mat-radio-group>
          </div>
        
          <div class="col-md-12 mb-4" *ngIf='waterMark.watermarkTitle == "image"'>
              <label class="black-clr fon-12" >Select Watermark Image Size</label>
              <select  class="form-control" name="waterMark.css-font-size" [(ngModel)]="waterMark.picWidth"
              (change)="loadWaterMark()">
                <option *ngFor="let val of watermarkWidth" [ngValue]="val">{{val}} x {{val}}</option>
               
              </select>

            </div>

            
            <div class="col-md-12" *ngIf='waterMark.watermarkTitle == "image"'>
                <div class="upload-btn-wrapper">
                    <button class="upload_btn black-clr fon-12"><i class="fa fa-plus"></i>Upload Image</button>
                    <input type="file" name="myfile" name="photo"
                     (change)="onFileSelected($event,'watermark','')" accept=".png, .jpeg , .jpg"/>
                  </div>
                  
            </div>
          <div class="water-scroll scroll-style"  *ngIf='waterMark.watermarkTitle == "text"'>
            <div class="mt-sm-3">
              <label class="fon-12 black-clr">Enter Watermark Text</label>
              <input type="text" class="wid-100 water-inp" [(ngModel)]="waterMark.content" name="waterMark.content"
                (input)="loadWaterMark()" (change)="loadWaterMark()" />
            </div>
            <div class="row mt-sm-3" >
              <div class="col-lg-4 css-watermark-color" >
                <label class="black-clr fon-12">Color</label>
                <div class="font-clor pl-point ">
                  <p class="font-clor-sub" [(colorPicker)]="waterMark.color" readonly [style.background]="waterMark.color"
                    (colorPickerChange)="loadWaterMark()">
                  </p>
                </div>


              </div>
              <div class="col-lg-4 wtr-size">
                <label class="black-clr fon-12">Size</label>
                <select name="waterMark.css-font-size" class="form-control hei-30 font-md" [(ngModel)]="waterMark.fontsize"
                  (change)="loadWaterMark()">

                  <option *ngFor="let val of waterMarkSize" [ngValue]="val">{{val}}</option>
                </select>
              </div>
              
              
              <div class="col-lg-4 style-padding">
                <label class="black-clr fon-12">Style</label>
                <div class="watermark-style">
                  <span (click)="waterMark.weight=!waterMark.weight " *ngIf="!waterMark.weight">
                    <i class="material-icons" (click)="loadWaterMarks('Boldv')">format_bold</i>
                    <input type="checkbox" hidden (change)="loadWaterMark()" [(ngModel)]="waterMark.weight" value="Bold" />
                  </span>
                  <span (click)="waterMark.weight=false" *ngIf="waterMark.weight" [ngClass]="{'font-style-color':waterMark.weight}">
                    <i class="material-icons" (click)="waterMark.weight=false;loadWaterMark()">format_bold</i>
                  </span>
                  <span (click)="waterMark.style=!waterMark.style " *ngIf="!waterMark.style">
                    <i class="material-icons" (click)="loadWaterMarks('Italicv')">format_italic</i>
                    <input type="checkbox" hidden (change)="loadWaterMark()" [(ngModel)]="waterMark.style" value="Bold" />
                  </span>
                  <span (click)="waterMark.style=false" *ngIf="waterMark.style" [ngClass]="{'font-style-color':waterMark.style}">
                    <i class="material-icons" (click)="waterMark.style=false;loadWaterMark()">format_italic</i>
                  </span>
                  <span (click)="waterMark.decoration=!waterMark.decoration " *ngIf="!waterMark.decoration">
                    <i class="material-icons" (click)="loadWaterMarks('underlinev')">format_underlined</i>
                    <input type="checkbox" hidden (change)="loadWaterMark()" [(ngModel)]="waterMark.decoration" value="Bold" />
                  </span>
                  <span (click)="waterMark.decoration=false" *ngIf="waterMark.decoration" [ngClass]="{'font-style-color':waterMark.decoration}">
                    <i class="material-icons" (click)="waterMark.decoration=false;loadWaterMark()">format_underlined</i>
                  </span>
                </div>
              </div>
            </div>


            <div class="mt-sm-3" >
              <label>Font Family</label>
              <select name="waterMark.css-font-family" class="form-control" [(ngModel)]="waterMark.fontfamily" (change)="loadWaterMark()">
                <option *ngFor="let val of waterMarkFonts" [ngValue]="val">{{val}}</option>


              </select>

            </div>
            <div class="mt-sm-3" >
              <label class="fon-12 black-clr">Watermark text position</label>
              <select name="waterMark.location" class="form-control" [(ngModel)]="waterMark.location" (change)="loadWaterMark()">
                <option selected value="middle"> Middle</option>
                <option value="top_left">Top Left</option>
                <option value="top_right">Top Right</option>
                <option value="bottom_left">Bottom Left</option>
                <option value="bottom_right">Bottom Right</option>
                <option value="repeat">Repeat</option>
              </select>
            </div>
            <div *ngIf="waterMark.location=='repeat' " >
              <label>Line Hight</label>
              <select name="waterMark.line_hight" class="form-control" [(ngModel)]="waterMark.line_hight" (change)="loadWaterMark()">
                <option *ngFor="let opt of [1,2,3,4,5,6,7,8,9,10];let i = index" value='{{opt}}rem'>{{opt}} rem</option>
              </select>
            </div>
           

            <div class="mt-sm-3" >
              <label>Rotate Field :</label>
              <!-- <input type="range" min="0" max="360" value="7" [(ngModel)]="waterMark.rotate" name="waterMark.rotate"
                      (input)="loadWaterMark()" (change)="loadWaterMark()" /> -->
              <mat-slider type="range" min="0" max="360" value="7" [(ngModel)]="waterMark.rotate" name="waterMark.rotate"
                (input)="loadWaterMark()" (change)="loadWaterMark()"></mat-slider>
            </div>


          </div>
        </div>


          <div class="agrement-changes">
            <div class="text-center">
              <button type="button" class="save-changes fon-12" (click)="saveWatermark('save')">Save Watermark</button>
              <button type="button" class="save-changes fon-12" *ngIf='selectedDoc.waterMark' (click)="saveWatermark('delete')">Delete
                Watermark</button>
            </div>
          </div>
        </div>









      </div>








      <!-- popup start -->
      <div class="modal fade bd-example-modal-lg" id="savetemp" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true"  data-keyboard="false">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header mod-head-bg">
              <h4 class=" w-100 add-new-emp-pop" id="myModalLabel">Save Template</h4>
              <button type="button" class="close " (click)="templatebtn=false;templateid='';templatename=null" id="savetempclose"
                data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true" class="white-colr">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="row pad-2rem" *ngIf="!templatebtn">
                <div class="col-lg-5 text-center" *ngIf='templates.length > 0'>
                  <div class="new-temp-div-tag pl-point" (click)="overwritebtn=true;">
                    <h6 class="new-temp" mat-raised-button data-toggle="modal" data-target="#templatemodel" (click)="hidetemplatemodel()">Existing
                    </h6>
                  </div>
                </div>
                <div class="col-lg-2 text-center"  *ngIf='templates.length > 0'>
                  <p class="or-pad">( Or )</p>
                </div>
                <div class="col-lg-5  text-center" [ngClass]="{'newTemplate':templates.length == 0}">
                  <div class="new-temp-div-tag pl-point" (click)="templatebtn=true">
                    <h6 class="new-temp">New Template</h6>
                  </div>
                </div>
              </div>

              <div class="row pad-2rem" *ngIf="templatebtn">
                <div class="col-lg-8">
                  <div class="form-group row">
                    <label for="inputPassword" class="col-sm-5 col-form-label">Enter Template Name :</label>
                    <div class="col-sm-7">
                      <input type="text" class="form-control" id="inputPassword" name="templatename" [(ngModel)]="templatename"
                        minlength="5" maxlength="30" pattern="(?=.*[a-zA-Z\d !'#$%&()+,-.;=@[\]^_`{}~])[A-Za-z\d !'#$%&()+,-.;=@[\]^_`{}~]{1,30}"
                        #template="ngModel">
                    </div>
                  </div>
                </div>
                <div class="col-lg-4">
                  <button class="sav-but-in-new-temp" (click)="savetemplate(templatename);templateSave=true" type="button" [disabled]="(template.errors &&(template.errors.pattern || template.errors.minlength)) || templateSave">Save</button>
                </div>
                <div style="height: 3px;">
                  <div class="text-danger sml-danger-txt nunito-font pos-danger fon-14" *ngIf=" template.errors && template.errors.pattern">
                    Name can't contain the any of the following characters \ : / ? * " < |>
                  </div>
                  <div class="text-danger sml-danger-txt nunito-font pos-danger fon-14" *ngIf=" template.errors && template.errors.minlength && !template.errors.pattern">
                    Name must be between 5 to 30 characters
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>






      <div class="modal fade bd1-example-modal-lg" id="templatemodel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true"  data-keyboard="false">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header mod-head-bg">
              <h4 class="w-100 add-new-emp-pop" id="myModalLabel">Select Template</h4>
              <button type="button" class="close out-li-non" id="templatemodelclose" (click)="getTemplate();selectedTemplateId=null;templateid=null;search='';templatebtn=false;templateedit=false"
                data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true" class="white-colr">&times;</span>
              </button>
            </div>
            <div class="modal-body bod-height">


              <div class="input-group mb-3 row padls-10em" *ngIf="templates.length>0">

                <input type="text" class="form-control ip-bg serch-ip-pad bor-rig" [(ngModel)]="search" placeholder="Search"
                  aria-label="Recipient's username" aria-describedby="basic-addon2">
                <div class="input-group-append">
                  <!-- <span class="input-group-text go-but" id="basic-addon2">Go</span> -->
                </div>
              </div>

              <div *ngIf='templates'>
                <div class="row pt1-8" *ngIf="templates.length==0 || (templates | templatefilter:{ templatename: search } : false).length == 0">
                  <div class="col-lg-3 col-md-12 col-sm-12 m-auto">
                    <img src="assets/images/noitems.png" width="100%">
                  </div>
                </div>
              </div>


              <div *ngFor="let t of templates | templatefilter:{ templatename: search } : false">
                <mat-card class="pad-1rm card-body-bg profile-pic wid-100 gap-bw-cads" [ngClass]="{'card-body-bg-active': templateid==t._id}">
                  <div class="mat-card-content-template">

                    <div class='row select-template-cursor agrement-copy-template' (click)="Selected(t);templateid=t._id">
                      <div class="col-lg-5 nam">
                        <input class="nam-input" *ngIf="t._id==selectedTemplateId && templateedit" autofocus type="text"
                          name="templatename" [(ngModel)]="copdocument.templatename" minlength="5" maxlength="30"
                          pattern="(?=.*[a-zA-Z\d !'#$%&()+,-.;=@[\]^_`{}~])[A-Za-z\d !'#$%&()+,-.;=@[\]^_`{}~]{1,30}"
                          #templatnameeedit="ngModel" (keyup)="validatetemplate(templatnameeedit)" (focus)="validatetemplate(templatnameeedit)">
                        <p class="zero-marg nam txt-ellips" *ngIf="!(t._id==selectedTemplateId && !overwritebtn && templateedit)"
                          matTooltip="{{t.templatename}}" aria-label="Button that displays a red tooltip when focused or hovered over">{{t.templatename}}
                        </p>
                      </div>

                      <div class="col-lg-4">
                        <p class="zero-marg time">{{t.created_at | date: "MMM d, y hh:mm:ss a"}}</p>
                      </div>

                      <div class=" col-lg-3 text-center save-template">
                        <a matTooltipClass="example-tooltip-red" matTooltip="Rename" class="dot edit-but-bg" *ngIf="(t._id != buttonhide || !templateedit && !overwritebtn) && !existingtemplate"
                          (click)="editTemplatename(t)"><i class="fas fa-pen penicn"></i></a>
                          <a class="dot dot-bg01" *ngIf="(t._id != buttonhide || !templateedit && !overwritebtn) && !existingtemplate"
                          (click)="editTemplateDoc(t)" matTooltipClass="example-tooltip-red" matTooltip="Edit"> <img src='assets/images/templateeditimg.png' width="50%"></a>
                        <a matTooltipClass="example-tooltip-red" matTooltip="Delete" class="dot del-but-bg  ml-3 ml-42" *ngIf="(t._id != buttonhide || !templateedit && !overwritebtn) && !existingtemplate"
                          (click)="edittemplate(t,'delete')"><i class="fas fa-trash-alt"></i></a>
                        <ul class="li-action p-0 aggrementcopy-save-option">
                          <li><button type="button" class="select-temp-but-under" *ngIf="t._id==selectedTemplateId && templateedit"
                              (click)="edittemplate(copdocument,'edit')" [disabled]="(templatenamelengtherror ||templatepatternerror)">save</button></li>
                          <li class="mrgn-lft"><button type="button" class="select-temp-but-under1" *ngIf="t._id==selectedTemplateId && templateedit"
                              (click)="getTemplate();cancelButton(t);search='';templatebtn=false;templateedit=false;templatenamelengtherror=false;templatepatternerror=false"
                              data-dismiss="modal" aria-label="Close">cancel</button></li>
                        </ul>




                        <div *ngIf='t._id==templateid && overwritebtn' [ngClass]="{'override-but-active': t._id==templateid}">
                          <button (click)="overridetemplate(t)" class="override-but" type="button">Override</button>
                        </div>

                      </div>
                    </div>
                    <div *ngIf="t._id==selectedTemplateId && templateedit" class="text-danger">
                      <p *ngIf="templatenamelengtherror && !templatepatternerror">Name must be between 5 to 30
                        characters</p>
                      <p *ngIf="templatepatternerror"> Name can't contain the any of the following characters \ : / ? *
                        " < |>
                      </p>
                    </div>
                  </div>
                </mat-card>
              </div>
            </div>
            <div class="modal-footer justify-content-center">
              <div *ngIf="templates.length>0">
                <button type="button" class="select-temp-but-under" (click)="getSelectedTemplate(templateid,'template')">Select
                  Template</button>
              </div>
            </div>

          </div>
        </div>

      </div>

      <div class="modal fade download-pdf" id="downloadPdfModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true"  data-keyboard="false">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header mod-head-bg">
              <h4 class="w-100 add-new-emp-pop" id="myModalLabel">Download PDF</h4>
              <button type="button" class="close " id="downloadtmp" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true" class="white-colr">&times;</span>
              </button>
            </div>
            <div class="modal-body pop-height">
              <!-- ===================field-----starts========================== -->
              <div class="dwnload-form">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-group row">
                    <div class="col-md-5 col-sm-5 col-xs-12">
                      <label class="col-form-label lable11" for="inputPassword">Download To</label>
                    </div>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      <select name="downloadType" class="form-control pdng11" [(ngModel)]="downloadType">
                        <option selected value="computer">Computer</option>
                        <option value="attachment" id="">Send Email Attachemnt</option>
                        <option value="drive">Google Drive</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-group row">
                    <div class="col-md-5 col-sm-5 col-xs-12"> </div>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      <input type="text" class="form-control input-box" *ngIf="downloadType == 'attachment'"
                        [(ngModel)]="email" #emailcheck="ngModel" placeholder="Enter Email" pattern="([A-Za-z]|[0-9])[A-Za-z0-9.-]+[A-Za-z0-9]@((?:[-a-z0-9]+\.)+[a-z]{2,})">
                      <!-- <div ><p class="text-danger sml-danger-txt nunito-font" *ngIf=" emailcheck.errors.pattern">Invalid
                  Email </p></div> -->
                    </div>
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                  <div class="form-group row">
                    <div class="col-md-5 col-sm-5 col-xs-12">
                      <label class="col-form-label lable11" for="inputPassword">Version</label>
                    </div>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      <select name="downloadFile" class="form-control pdng11" [(ngModel)]="downloadFile">
                        <option selected value="current">Current Version</option>
                        <option value="withoutchanges">Orginal File with out changes</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" *ngIf="downloadFile=='current'">
                  <div class="form-group row">
                    <div class="col-md-5 col-sm-5 col-xs-12">
                      <label class="col-form-label lable11" for="inputPassword">Attach with Log</label>
                    </div>
                    <div class="col-md-7 col-sm-7 col-xs-12">
                      <input type="checkbox" class="checkmark check111" id="inputPassword" name="withlog" [(ngModel)]="withlog">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-right">

                <button class="sav-but-in-new-temp" *ngIf="downloadType == 'computer'" (click)="pdfDownload()" type="button">Download</button>
                <button class="sav-but-in-new-temp" *ngIf="downloadType == 'attachment'" (click)="pdfDownload(email)"
                  type="button">Send
                  Attachment</button>
                <button class="sav-but-in-new-temp" *ngIf="downloadType == 'drive'" (click)="loadGoogleDrive()" type="button">Export
                  To Drive</button>

              </div>
            </div>
            <!-- ===================field-----ends========================== -->
          </div>

        </div>
      </div>
      <div class="col-lg-2 col-md-3 label-nav bg-w pdng m0brightsidemenu11 d-md-none d-sm-block mr-top" (click)="selectRecord=null;">
        <div class="gap-bw-cads" *ngIf="(header_button == 'review' ||(shareform && editF==null)) && !openChat ">
          <button class="btntxt1 btn btn-primary btn-md" hidden id="callpopup" data-toggle="modal" data-target="#okpopup"
            type="button">Save
            as Template</button>
          <div class="modal fade" id="okpopup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             data-keyboard="false" aria-hidden="true">
            <div class="modal-dialog  modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="">

                  <button type="button" class="close out-li-non" data-dismiss="modal" id="okpopupclose" aria-label="Close">
                    <span aria-hidden="true" class="pad-10px">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="temp-sav-pad">
                    <span><img src="assets/images/Group4384.png"></span>
                    <span class="temp-save-para">{{templateMsg}}</span>
                  </div>

                  <div class="text-center">
                    <button class="ok-but-new-temp-pop" data-dismiss="modal" type="button">Ok</button>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <!-- ================================================= ends ok sucess pop up ====================================== -->

          <!-- ========================================existing  templates   pop-up starts=============================== -->
          <button hidden id="tempbtn" mat-raised-button data-toggle="modal" data-target="#templatemodel" type="button"></button>

          <div class="modal fade bd1-example-modal-lg" id="templatemodel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true" data-keyboard="false">
            <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header mod-head-bg">
                  <h4 class="w-100 add-new-emp-pop" id="myModalLabel">Select Template</h4>
                  <button type="button" class="close out-li-non" id="templatemodelclose" (click)="getTemplate();selectedTemplateId=null;templateid=null;search='';templatebtn=false;templateedit=false"
                    data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-colr">&times;</span>
                  </button>
                </div>
                <div class="modal-body bod-height">


                  <div class="input-group mb-3 row padls-10em" *ngIf="templates.length>0">

                    <input type="text" class="form-control ip-bg serch-ip-pad bor-rig" [(ngModel)]="search" placeholder="Search"
                      aria-label="Recipient's username" aria-describedby="basic-addon2">
                    <div class="input-group-append">
                      <!-- <span class="input-group-text go-but" id="basic-addon2">Go</span> -->
                    </div>
                  </div>

                  <div *ngIf='templates'>
                    <div class="row pt1-8" *ngIf="templates.length==0 || (templates | templatefilter:{ templatename: search } : false).length == 0">
                      <div class="col-lg-3 col-md-12 col-sm-12 m-auto">
                        <img src="assets/images/noitems.png" width="100%">
                      </div>
                    </div>
                  </div>


                  <div *ngFor="let t of templates | templatefilter:{ templatename: search } : false">
                    <mat-card class="pad-1rm card-body-bg profile-pic wid-100 gap-bw-cads" [ngClass]="{'card-body-bg-active': templateid==t._id}">
                      <div class="mat-card-content-template">

                        <div class='row select-template-cursor' (click)="Selected(t);templateid=t._id">
                          <div class="col-lg-5 nam">
                            <input class="nam-input" *ngIf="t._id==selectedTemplateId && templateedit" type="text" name="templatename"
                              [(ngModel)]="copdocument.templatename">
                            <p class="zero-marg nam" *ngIf="!(t._id==selectedTemplateId && !overwritebtn && templateedit)">{{t.templatename}}
                            </p>
                          </div>

                          <div class="col-lg-4">
                            <p class="zero-marg time">{{t.created_at | date: "MMM d, y hh:mm:ss a"}}</p>
                          </div>

                          <div class=" col-lg-3 text-center save-template">
                            <a class="dot edit-but-bg hovefct" *ngIf="t._id != buttonhide || !templateedit && !overwritebtn"
                              (click)="editTemplatename(t)"><i class="fas fa-pen penicn"></i></a>
                            <a class="dot del-but-bg  ml-3 ml-42 hovefct" *ngIf="t._id != buttonhide || !templateedit && !overwritebtn"
                              (click)="edittemplate(t,'delete')"><i class="fas fa-trash-alt"></i></a>
                            <ul class="li-action p-0">
                              <li><button type="button" class="select-temp-but-under" *ngIf="t._id==selectedTemplateId && templateedit"
                                  (click)="edittemplate(copdocument,'edit')">save</button></li>
                              <li class="mrgn-lft"><button type="button" class="select-temp-but-under1" *ngIf="t._id==selectedTemplateId && templateedit"
                                  (click)="getTemplate();cancelButton(t);search='';templatebtn=false;templateedit=false"
                                  data-dismiss="modal" aria-label="Close">cancel</button></li>
                            </ul>




                            <div *ngIf='t._id==templateid && overwritebtn' [ngClass]="{'override-but-active': t._id==templateid}">
                              <button (click)="overridetemplate(t)" class="override-but" type="button">Override</button>
                            </div>

                          </div>
                        </div>
                      </div>
                    </mat-card>
                  </div>
                </div>
                <div class="modal-footer justify-content-center">
                  <div *ngIf="templates.length>0">
                    <button type="button" class="select-temp-but-under" (click)="getSelectedTemplate(templateid,template)">Select
                      Template</button>
                  </div>
                </div>

              </div>
            </div>

          </div>
        </div>
        <div *ngIf="(editF && editF.type && (header_button == 'insertField'  || header_button == 'saveFile' )) && hidesettings && (fieldsForDelete && fieldsForDelete.length == 0)"
          class="delete-field"  >
          <form #configField="ngForm" (ngSubmit)="saveFieldSettings(configField.value,editF)" name="configField">
            <div class="new-stick">
              <div class="close-butn-in-form">
                <button class="no-bor" type="button" (click)="closeEditform();hidesettings=false"><img src="assets/images/Group2628.png"></button>
              </div>
              <div class="text-center" [ngClass]="{'disableDiv': !youCanSave,'disablefields':!youCanSave}">
                <button class="del-field" type="button" (click)="deleteField(editF,'single')">Delete field</button>
              </div>
              <hr class="hr-line">
            </div>
            <div class="container form-overflow-content scroll-style middle-div mobmiddiv" [style.height.px]="fieldHeight" [ngClass]="{'disableDiv': !youCanSave,'disablefields':!youCanSave}">
              <ng-container *ngFor="let cf of ConfigFields">
                <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="radio"'>
                  <label class="fon-12 black-colr lbl01">{{cf.name | titlecase}} <span class="help-tip help-tip9" *ngIf="cf.healpText">
                      <p>{{cf.healpText}}</p>
                    </span></label>
                  <div *ngFor="let val of cf.values">
                    <div [ngClass]="cf.class">
                      <input class="text-input" type="radio" name="{{cf.key}}" [(ngModel)]="editF[cf.key]" [(value)]='val'
                        (change)="updateFieldCss(editF);assignRadio(editF, cf.key)" />
                      <label class="text-label" for="defaultInline1">{{val | titlecase}}</label>
                    </div>
                  </div>
                </div>
                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="textarea"'>
                  <label class="fon-12 black-colr">{{cf.name | titlecase}} <span class="help-tip2 help-tip" *ngIf="cf.healpText">
                      <p>{{cf.healpText}}</p>
                    </span></label>
                  <textarea class="form-control" [(ngModel)]="editF[cf.key]" name="{{cf.key}}" placeholder="Enter {{cf.name}}"
                    (change)="updateFieldCss(editF)"></textarea>
                </div>
                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="text"'>
                  <p class="fon-12 place-holder-marg black-colr">{{cf.name | titlecase}} <span class="help-tip help-tip3 "
                      *ngIf="cf.healpText">
                      <p>{{cf.healpText}}</p>
                    </span></p>
                  <input type="text" class="form-control" [(ngModel)]="editF[cf.key]" name="{{cf.key}}" placeholder="Enter {{cf.name}}">
                </div>
                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="dropdown"'>
                  <label for="sel1" class="fon-12 black-colr font-family-heading font-size-firefox">{{cf.name | titlecase}} <span class="help-tip1 help-tip"
                      *ngIf="cf.healpText">
                      <p>{{cf.healpText}}</p>
                    </span></label>
                  <div class="input-group input-bod-radius pl-point select-family">
                    <select name="{{cf.key}}" class="form-control font-size-feild" [(ngModel)]="editF[cf.key]" (change)="updateFieldCss(editF)">
                      <option *ngFor="let val of cf.values" [ngValue]="val">{{val}}</option>
                    </select>
                  </div>
                </div>


                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="colorPicker"'>
                  <!-- <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="colorPicker1"'> -->
                  <label class="fon-12 black-colr"><span>{{cf.name | titlecase}}</span> <span class="help-tip help-tip4 helptip112"
                      *ngIf="cf.healpText">
                      <p>{{cf.healpText}}</p>
                    </span></label>
                  <div class="font-clor pl-point ">
                    <p class="font-clor-sub" [(colorPicker)]="editF[cf.key]" [style.background]="editF[cf.key]"
                      (colorPickerChange)="updateFieldCss(editF)">
                    </p>
                  </div>
                  <!-- </div> -->
                </div>


                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="checkbox_icons"'>
                  <label class="fon-12 black-colr">{{cf.name | titlecase}} <span class="help-tip help-tip5" *ngIf="cf.healpText">
                      <p>{{cf.healpText}}</p>
                    </span></label>
                  <div>
                    <span *ngFor="let val of cf.values" (click)="selectOption(val)" [ngClass]="{'checkboxactive': editF[val.assingto] == val.value}"
                      class="pl-point" style=" display: inline-block;"> <i class="material-icons">{{val.icon}}</i></span>
                  </div>
                </div>


                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="rotate"'>
                  <span class="fon-12 black-colr">{{cf.name | titlecase}} <span class="help-tip help-tip6" *ngIf="cf.healpText">
                      <p>{{cf.healpText}}</p>
                    </span>:</span><span>
                    <!-- <input type="range" min="0" max="360" value="7" [(ngModel)]="editF[cf.key]" name="editF[cf.key]" (input)="updateFieldCss(editF)" (change)="updateFieldCss(editF)" /> -->
                    <mat-slider thumbLabel [displayWith]="formatLabel" class="example-margin" type="range" min="0" max="360"
                      [(ngModel)]="editF[cf.key]" name="{{cf.key}}" (input)="updateFieldCss(editF)" (change)="updateFieldCss(editF)">
                      &#176;
                    </mat-slider>
                  </span>
                </div>
                <!-- value="7" -->

                <div [ngClass]="cf.class" *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="number"'>
                  <div (change)=" (editF)">
                    <label class="fon-12 black-colr">{{cf.name | titlecase}} <span class="help-tip help-tip7" *ngIf="cf.healpText">
                        <p>{{cf.healpText}}</p>
                      </span></label>
                    <!-- <input type="number" class="form-control" [(ngModel)]="editF[cf.key]" name="editF[cf.key]"
                                             placeholder="Enter {{cf.name}}"> -->
                    <div class=" quantity">
                      <input type="number" class="form-control" [(ngModel)]="editF[cf.key]" name="{{cf.key}}"
                        placeholder="Enter {{cf.name}}">
                      <div class="quantity-nav">
                        <div class="quantity-button quantity-up" (click)="updateNumber(cf.key, 'plus')">+</div>
                        <div class="quantity-button quantity-down" (click)="updateNumber(cf.key, 'minus')">-</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="checkbox"' (change)="updateFieldCss(editF)">
                  <input type="checkbox" [(ngModel)]="editF[cf.key]" name="{{cf.key}}">
                  <label class="fon-12 black-colr space">{{cf.name | titlecase}} <span class="help-tip" *ngIf="cf.healpText">
                      <p>{{cf.healpText}}</p>
                    </span></label>
                  <!-- <label class="space">{{cf.name}}</label> -->
                </div>
                <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="autocomplete"' [ngClass]="cf.class">
                    <label class="fon-12 black-colr font-size-firefox">{{cf.name | titlecase}}
                      <span *ngIf="cf.healpText" class="help-text" matTooltip="{{cf.healpText}}" matTooltipClass="example-tooltip-ex"
                        aria-label="Button that displays a red tooltip when focused or hovered over">
  
                        <i class="fa fa-question"></i></span>
                    </label>
                    <mat-form-field class="example-full-width">
                      <input type="text" placeholder="Enter email" [formControl]="formControl" matInput [matAutocomplete]="auto"
                        [(ngModel)]="editF[cf.key]" name="{{cf.key}}" (focus)="add(editF,true,'people')" (blur)='add(editF,false,"people")'>
                      <mat-autocomplete #auto="matAutocomplete">
                        <mat-option *ngFor="let option of filteredOptions | async" [(value)]="option">
                          {{option}}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                    <div class="text-danger" *ngIf="!editF.emailvalid">Please Enter valid email </div>
                  </div>
  
                  <div *ngIf='cf.fType.indexOf(editF.type) > -1 && cf.type=="dependency" && editF.dependencytype'
                    [ngClass]="cf.class">
                    <label class="fon-12 black-colr font-size-firefox">{{cf.name | titlecase}} <span *ngIf="cf.healpText" class="help-text"
                        matTooltip="{{cf.healpText}}" mattooltipposition="below" matTooltipClass="example-tooltip-ex"
                        aria-label="Button that displays a red tooltip when focused or hovered over">
                        <i class="fa fa-question"></i></span></label>
                      <mat-form-field class="example-full-width">
                        <input type="text" placeholder="Enter email" [formControl]="formControlForDependency" matInput [matAutocomplete]="auto"
                          [(ngModel)]="editF[cf.key]" name="{{cf.key}}" (focus)="add(editF,true,'dependency')" (blur)='add(editF,false,"dependency")'>
                        <mat-autocomplete #auto="matAutocomplete">
                          <mat-option *ngFor="let option of filteredOptionsForDependency | async" [(value)]="option">
                            {{option}}
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    <div class="text-danger" *ngIf="!editF.dependencyEmailerror">Please Enter valid email </div>
                  </div>

               
              </ng-container>
            </div>
            <div class="agrement-changes agrmntchngs">
              <!-- <div class="text-center">
                  <button type="submit" class="save-changes fon-12">Save Changes</button>
                </div> -->
              <div class="text-center">
                <button class="cancel fon-12" (click)="closeEditform()" type="button">Cancel</button>
              </div>
            </div>
          </form>
        </div>
        <div *ngIf='fieldsForDelete && fieldsForDelete.length > 0 && header_button != "review"' class="text-center" [ngClass]="{'disableDiv': !youCanSave,'disablefields':!youCanSave}">
          <button class="del-field" type="button" (click)="deleteField(true,'multi')" type="button">Delete field</button>
        </div>
        <!-- ========================================================versions start========================================================= -->

        <div *ngIf="header_button == 'versions' && ver" style="padding: 0 15px 0 15px">
          <div class="versionnav no-gutter bg-wite" id="style-1">
            <!-- for scroller, use class = scroller -->

            <div class="row no-gutter ver-tpad vrheadrow bg-wite">
              <div class="col-md-8 col-lg-8">
                <span class="versiontitle mobtitle1">Versions</span>
              </div>
              <div class="col-md-4 col-lg-4">
                <button type="button" class="close clsbtn mobbtn" data-dismiss="modal" (click)="back();" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            </div>

            <div class="no-gutter scroller scrollbar force-overflow bg-wite" id="style-1" [style.height.px]="fieldHeight">
              <div class="versionNoData" *ngIf="allDocVersionsResult && allDocVersionsResult.length==0">No Versions
                Found</div>
              <div>
                <div class="modal-body tday bg-wite" *ngFor="let version of allDocVersionsResult">
                  <div [ngClass]="{'highl-col': selectedversionid==version._id}" (click)="choosedversion(version._id)"
                    (dblclick)="currentVersionDoc(version)" (touchend)="selectversions($event,version)">
                    <div class="row">
                      <div class="tdaycontent" [ngClass]="{'tdaycontent-active': restoreVersionId==version._id}">
                        <!-- [ngClass]="{'tdaycontent-active':selectedversionid==version._id}" -->
                        <span class="editbutton" *ngIf="selectedversionid==version._id && hideedit" (click)="editVersionName(version)">
                          <img src="assets/images/ico-but-edit.png" class="hoverimg"></span>
                        <span class="editbutton" *ngIf="selectedversionid==version._id && canedit && hidesave" (click)="saveversionfield(copdocument)">
                          <img src="assets/images/ico-but-save.png" class="hoverimg"></span>
                        <!-- <button type="button" (click)="editVersionName(version)">edit</button> -->
                        <!-- <button type="button" *ngIf="hidesave" (click)="saveversionfield(version)">save</button> -->
                        <span class="line2">
                          <input *ngIf="selectedversionid==version._id && canedit" class="edit-input" type="text" name="versionname"
                            [(ngModel)]="copdocument.versionname" required #versionname1=ngModel>
                          <span *ngIf="versionNameRequired && selectedversionid==version._id && canedit" class="text-danger smedia-text-b error-msg-required">Required</span>
                          <h3 class="smedia-text-b pad-for-date" *ngIf="!(selectedversionid==version._id && canedit)">
                            {{version.versionname}}</h3>
                          <p class="smedia-text-s date-pos">{{version.created_at | date:'MMM d, y, h:mm:ss a'}}</p>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="clearfix"></div>

          </div>
          <div class="clearfix"></div>
          <div class="row dt-tpad vrheadrow"></div>
          <div class="row but-container">
            <button *ngIf='restorebtn' (click)="restoreVesrion(selectedversionid)" class="but-restore" type="button">Restore
              Version</button>
            <button class="but-restore" *ngIf='restorebtn' (click)="back();" type="button"> Back </button>
          </div>

          <div class="clearfix"></div>
        </div>

        <!-- =======================================================versions end============================================================= -->


        <div class="bg-wite">
          <app-chat *ngIf="openChat" [chatContent]="_id" [emailContent]="profiledata.email" [profile]="profiledata"
            class="bg-wite"></app-chat>
        </div>
        <div class="watermark-width" *ngIf="header_button == 'watermarkbtn' && !openChat && waterMark && waterMark.watermarkTitle">

          <div class="mar-t-1">
            <span class="close-right" (click)="buttonActive('review');shareform=true">
              <img src="assets/images/Group3807.png"></span>
            <h6 class="black-clr">Water Mark Settings</h6>
          </div>
          <hr class="water-mrk-hr-line">
          <div class="col-md-12 mb-3" >
            <mat-radio-group aria-label="Select an option"  [(ngModel)]="waterMark.watermarkTitle" >
                <mat-radio-button    value = 'image' class="mat_radio_button black-clr fon-12" (change)='waterMark.watermarkTitle = "image"'>Image</mat-radio-button>
                <mat-radio-button  value = 'text' class="mat_radio_button black-clr fon-12" (change)='waterMark.watermarkTitle = "text"'>Text</mat-radio-button>
              </mat-radio-group>
          </div>
          <div class="col-md-12 mb-4" *ngIf='waterMark.watermarkTitle == "image"'>
              <label class="black-clr fon-12" >Select Watermark Image Size</label>
              <select  class="form-control" name="waterMark.css-font-size" [(ngModel)]="waterMark.picWidth"
              (change)="loadWaterMark()">
                <option *ngFor="let val of watermarkWidth" [ngValue]="val">{{val}} x {{val}}</option>
               
              </select>

            </div>

            
            <div class="col-md-12" *ngIf='waterMark.watermarkTitle == "image"'>
                <div class="upload-btn-wrapper">
                    <button class="upload_btn black-clr fon-12"><i class="fa fa-plus"></i>Upload Image</button>
                    <input type="file" name="photo"
                     (change)="onFileSelected($event,'watermark','')" accept=".png, .jpeg , .jpg"/>
                  </div>
                  
            </div>
          <div class="water-scroll scroll-style" *ngIf='waterMark.watermarkTitle == "text"'>
            <div class="mt-sm-3">
              <label class="fon-12 black-clr">Enter Watermark Text</label>
              <input type="text" class="wid-100 water-inp" [(ngModel)]="waterMark.content" name="waterMark.content"
                (input)="loadWaterMark()" (change)="loadWaterMark()" />
            </div>
            <div class="row mt-sm-3">
              <div class="col-lg-4 css-watermark-color">
                <label class="black-clr fon-12">Color</label>


                <div class="font-clor pl-point ">
                  <p class="font-clor-sub" [(colorPicker)]="waterMark.color" readonly [style.background]="waterMark.color"
                    (colorPickerChange)="loadWaterMark()">
                  </p>
                </div>


              </div>
              <div class="col-lg-4">
                <label class="black-clr fon-12">Size</label>
                <select name="waterMark.css-font-size" class="form-control hei-30" [(ngModel)]="waterMark.fontsize"
                  (change)="loadWaterMark()">

                  <option *ngFor="let val of waterMarkSize" [ngValue]="val">{{val}}</option>
                </select>
              </div>
              
              <div class="col-lg-4 style-padding">
                <label class="black-clr fon-12">Style</label>
                <div class="watermark-style">
                  <span (click)="waterMark.weight=!waterMark.weight " *ngIf="!waterMark.weight">
                    <i class="material-icons" (click)="loadWaterMarks('Boldv')">format_bold</i>
                    <input type="checkbox" hidden (change)="loadWaterMark()" [(ngModel)]="waterMark.weight" value="Bold" />
                  </span>
                  <span (click)="waterMark.weight=false" *ngIf="waterMark.weight" [ngClass]="{'font-style-color':waterMark.weight}">
                    <i class="material-icons" (click)="waterMark.weight=false;loadWaterMark()">format_bold</i>
                  </span>
                  <span (click)="waterMark.style=!waterMark.style " *ngIf="!waterMark.style">
                    <i class="material-icons" (click)="loadWaterMarks('Italicv')">format_italic</i>
                    <input type="checkbox" hidden (change)="loadWaterMark()" [(ngModel)]="waterMark.style" value="Bold" />
                  </span>
                  <span (click)="waterMark.style=false" *ngIf="waterMark.style" [ngClass]="{'font-style-color':waterMark.style}">
                    <i class="material-icons" (click)="waterMark.style=false;loadWaterMark()">format_italic</i>
                  </span>
                  <span (click)="waterMark.decoration=!waterMark.decoration " *ngIf="!waterMark.decoration">
                    <i class="material-icons" (click)="loadWaterMarks('underlinev')">format_underlined</i>
                    <input type="checkbox" hidden (change)="loadWaterMark()" [(ngModel)]="waterMark.decoration" value="Bold" />
                  </span>
                  <span (click)="waterMark.decoration=false" *ngIf="waterMark.decoration" [ngClass]="{'font-style-color':waterMark.decoration}">
                    <i class="material-icons" (click)="waterMark.decoration=false;loadWaterMark()">format_underlined</i>
                  </span>
                </div>
              </div>
            </div>


            <div class="mt-sm-3">
              <label>Font Family</label>
              <select name="waterMark.css-font-family" class="form-control" [(ngModel)]="waterMark.fontfamily" (change)="loadWaterMark()">
                <option *ngFor="let val of waterMarkFonts" [ngValue]="val">{{val}}</option>


              </select>

            </div>
            <div class="mt-sm-3">
              <label class="fon-12 black-clr">Watermaark text position</label>
              <select name="waterMark.location" class="form-control" [(ngModel)]="waterMark.location" (change)="loadWaterMark()">
                <option selected value="middle"> Middle</option>
                <option value="top_left">Top Left</option>
                <option value="top_right">Top Right</option>
                <option value="bottom_left">Bottom Left</option>
                <option value="bottom_right">Bottom Right</option>
                <option value="repeat">Repeat</option>
              </select>
            </div>
            <div *ngIf="waterMark.location=='repeat'">
              <label>Line Hight</label>
              <select name="waterMark.line_hight" class="form-control" [(ngModel)]="waterMark.line_hight" (change)="loadWaterMark()">
                <option *ngFor="let opt of [1,2,3,4,5,6,7,8,9,10];let i = index" value='{{opt}}rem'>{{opt}} rem</option>
              </select>
            </div>
            <div class="mt-sm-3">
              <label>Rotate Field :</label>
              <!-- <input type="range" min="0" max="360" value="7" [(ngModel)]="waterMark.rotate" name="waterMark.rotate"
                        (input)="loadWaterMark()" (change)="loadWaterMark()" /> -->
              <mat-slider type="range" min="0" max="360" value="7" [(ngModel)]="waterMark.rotate" name="waterMark.rotate"
                (input)="loadWaterMark()" (change)="loadWaterMark()"></mat-slider>
            </div>


          </div>
          <div class="agrement-changes">
            <div class="text-center">
              <button type="button" class="save-changes fon-12" (click)="saveWatermark('save')">Save Watermark</button>
              <button type="button" class="save-changes fon-12" *ngIf='selectedDoc.waterMark' (click)="saveWatermark('delete')">Delete
                Watermark</button>
            </div>
          </div>
        </div>









      </div>





    </div>
  </div>
</section>
<button hidden id="signatureModalBtn" mat-raised-button data-toggle="modal" data-target="#centralModallg" type="button"></button>

<button hidden id="photoModalBtn" mat-raised-button data-toggle="modal" data-target="#photoModal" type="button"></button>
<button hidden id="stampModalBtn" mat-raised-button data-toggle="modal" data-target="#stampModal" type="button"></button>
<button hidden id="initialModalBtn" mat-raised-button data-toggle="modal" data-target="#initialModal" type="button"></button>
<!-- Central Modal Small -->
<div class="modal fade" id="centralModallg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
  (click)="showdropdownclose()"  data-keyboard="false">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg mobmodel" role="document">


    <div class="modal-content  modal-height modal-height12" style="border-radius:20px">
      <div class="modal-header mod-head ps-079">


        <div class="flexx flex-rd-w">
          <div *ngIf="SignatureList.length>0" [ngClass]="{'select-sign1' : tabactive == 'tab1' }" class="select-sign text-center pl-point  show-tabs-img  show-tabs-img-sign"
            (click)="tabOpen('tab1');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;selectimg=null;resend=false">
            <h6 [ngClass]="{'select-signs1' : tabactive == 'tab1' }" class="select-signs hide-txt">
              <p class="txthide">Select signatures</p>
            </h6>
            <!-- <div class="tooltiptext">
              Select your signature!
            </div> -->
            <p class="pad-icon"></p>
          </div>
          <div (click)="tabOpen('tab3');colorcodefun('#000000');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;selectimg=null;resend=false"
            [ngClass]="{'select-sign1' : tabactive == 'tab3' }" class="select-sign text-center pl-point show-tabs-img show-draw">

            <h6 [ngClass]="{'select-sign-draw-font1' : tabactive == 'tab3' }" class="select-sign-draw-font hide-txt">
              <p class="txthide">Draw</p>
            </h6>
            <!-- <div class="tooltiptext">
              Draw your signature here!
            </div> -->
            <p class="pad-icon"></p>
          </div>
          <div (click)="tabOpen('tab2')" [ngClass]="{'select-sign1' : tabactive == 'tab2' }" class="select-sign text-center pl-point show-tabs-img show-mobile">

            <h6 [ngClass]="{'select-sign-mobile-font1' : tabactive == 'tab2' }" class="select-sign-mobile-font hide-txt">
              <p class="txthide">Mobile</p>
            </h6>
            <!-- <div class="tooltiptext">
              Draw or take a picture of your
              signature using your mobile device
            </div> -->
            <p class="pad-icon"></p>
          </div>
          <div (click)="tabOpen('tab4');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;selectimg=null;resend=false"
            [ngClass]="{'select-sign1' : tabactive == 'tab4' }" class="select-sign text-center pl-point  show-tabs-img show-im-2">

            <h6 [ngClass]="{'select-sign-image-font1' : tabactive == 'tab4' }" class="select-sign-image-font hide-txt">
              <p class="txthide">Image</p>
            </h6>
            <!-- <div class="tooltiptext">
              Upload your signature image here!
            </div> -->
            <p class="pad-icon"></p>
          </div>

          <div [ngClass]="{'select-sign1' : tabactive == 'tab5' }" class="select-sign text-center pl-point  show-tabs-img sh-font"
            (click)="tabOpen('tab5');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null">

            <h6 [ngClass]="{'select-sign-type-font1' : tabactive == 'tab5' }" class="select-sign-type-font hide-txt">
              <p class="txthide">Type</p>

            </h6>

            <p class="pad-icon"></p>
            <!-- <div class="tooltiptext">
              Type and select your signature!
            </div> -->
          </div>







        </div>




      </div>
      <div class="modal-body mod-bod scroll-style">

        <div>
          <div *ngIf="tabactive == 'tab1'">
            <!-- <div *ngIf="SignatureList.length==0">No Data Available</div> -->
            <div *ngIf="SignatureList.length>0" class="sign-1st" id="style-15">
              <div class="row photo-field">
                <div *ngFor="let sign of SignatureList" class="col-lg-3 col-md-12 col-xs-12 col-sm-12 ">
                  <div class="text-center show-image wite-bg zoom imagebg">

                    <button *ngIf="!sign.setDefault" (click)="sign.setDefault=true;setSignatureDefaultSettings(sign)"
                      class="update set-default pl-point" type="button">Set
                      Default</button>

                    <button *ngIf="!sign.setDelete" (click)="sign.setDelete=true;setSignatureDefaultSettings(sign)"
                      class="delete delete-icon pl-point" type="button"><img src="assets/images/Group3648.png"></button>

                    <div data-dismiss="modal" (click)="selectSignature(sign,'signature')">

                      <div *ngIf="sign.type=='fileupload'">
                        <img src="{{sign.path}}" alt="signature" class="flx image0size">
                      </div>

                      <div *ngIf="sign.type=='signaturepad'">
                        <img [src]="sign.signaturebaseData" alt="signature" class="pad-14-tb flx image0size" />
                      </div>

                      <div *ngIf="sign.type=='font'" class="initial-wid">
                        <span [ngClass]="{'active': fontstyle==sign.fontStyle}" style="color:black;word-break: break-all"
                          [style.font-family]="sign.fontStyle">
                          {{sign.fontText}}</span>
                      </div>

                    </div>

                  </div>
                  <div>
                    <button disabled=true *ngIf="sign.setDefault" class="defalt pl-point" type="button">Default</button>
                  </div>


                </div>
              </div>
            </div>
          </div>

          <div *ngIf="tabactive == 'tab2'" class="mar-t-5rem">
            <form #signatureuploadlinkForm1="ngForm" name="signatureuploadlinkForm1" (ngSubmit)="sendLink(signatureuploadlinkForm1,signatureuploadlinkForm1.form.valid,'signature')">




              <div class="text-center pad-ls-11rem ps-079">
                <p class="mobile-para">Use your mobile device to easily draw or capture your signature.
                  A link will be sent to your mobile device via text.</p>
              </div>


              <div class="row cen-dialog">
                <!-- <div class="col-lg-4 col-sm-12 col-md-12 col-xs-12">
                </div> -->
                <div class="mob-fied-pos">
                  <div class="col-lg-4 col-md-12 col-xs-12 col-sm-12">
                    <div class="input-group mb-3">

                      <div class="mobile">

                        <div class="he-d-flex">
                          <div [ngClass]="{'alignicons11': !selectimg,'alignicons-bordernone': selectimg }" (click)="showdropdown($event,'signature')">
                            <div *ngIf="selectimg" class="mr-10"><img  draggable="false" src="../../assets/countries/{{selectimg | lowercase}}.png" />
                            </div><span style="white-space: nowrap;">{{added}}</span>
                            <i *ngIf="!selectimg" class="fa fa-globe globeicon11"></i>
                            <i class="fa fa-caret-down careticon"></i>
                          </div>
                          <div class="hideinput">
                            <!-- <input *ngIf='selectimg' type="text" name="added" style="width: 40px;border:none" [(ngModel)]='added' class="br-e5" placeholder="ISD" readonly/>  -->
                            <input type="number" style="border: none" name="enteredvalue" class="br-e5 " [ngClass]="{'linht' :iebrowser}"
                              id="country_toggle" [(ngModel)]='enteredvalue' placeholder="Enter Mobile Number"
                              (keydown)="checkisnum($event)" (ngModelChange)="mobileNumberValidation(signatureuploadlinkForm1);">
                          </div>


                        </div>
                        <div class="error-hig">
                          <div class="text-danger" *ngIf="req">Enter valid Mobile Number</div>
                        </div>

                        <div class="list" *ngIf="showlist && mobiledemo">
                          <ul class="listitem" (click)="listshow1($event)">
                            <li>
                              <mat-form-field class="example-full-width mob-new-ch matstyle">
                                <!-- <span *ngIf="selectimg" ><img src="../../assets/countries/{{selectimg | lowercase}}.png"/>   </span> -->
                                <input type="text" matInput [matAutocomplete]="auto" name="searchcountry" (keyup)="Searchcountries(searchcountry,$event,'country_toggle')"
                                  [(ngModel)]='searchcountry' placeholder="Enter Country" (click)="listshow1($event)"
                                  (focus)="listshow1($event)" id="openmodel1">
                                <mat-autocomplete #auto="matAutocomplete" class="sub" [displayWith]="displayFn">
                                  <mat-option class="sub11" *ngFor="let option of countrylist" [(value)]="option"
                                    (click)="addcountry(option,'country_toggle')">
                                    <span><img src="../../assets/countries/{{option.code | lowercase}}.png" />
                                      {{option.name}} {{option.dial_code}}</span>
                                  </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                            </li>

                          </ul>
                        </div>

                      </div>
                    </div>
                  </div>
                  <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                    <button type="submit" *ngIf="!resend" class="mobile-send-but send-place">Send</button>
                    <button type="submit" *ngIf="resend" class="mobile-send-but send-place">Resend</button>
                  </div>
                </div>
              </div>
            </form>
          </div>

          <div class="none-select" *ngIf="tabactive == 'tab3'">
            <!-- <div class="row"> -->
            <div>
              <h6 class="ml-3">Please Sign Below</h6>
              <div class="row">
                <div class="col-lg-9 col-md-9" style="padding-left: 30px">

                  <ng-signature-pad *ngIf="isOpenPad" format="base64" (done)="showImage($event)" [(points)]="signatureValidation"
                    [penColor]='pencolor' class="btnspace" [emitOnDragEnd]='true' [width]="divsigpadWidth? divsigpadWidth :600 "
                    [height]="135" [showDoneButton]='false' (cleared)="clearsign()" [editable]='true' id="uploadCaptureInputFileSignature"></ng-signature-pad>
                  <!-- Dummy Signature to resolve signature blinking Error/option-->
                  <ng-signature-pad *ngIf="!isOpenPad" class="btnspace" [width]="divsigpadWidth? divsigpadWidth :600"
                    [height]="135" [showDoneButton]='false'></ng-signature-pad>

                </div>
                <div class="col-lg-3 col-md-3 space">

                  <ul>
                    <li class="signature-selected-color-list"><input type="radio" name='pencolor1' [(ngModel)]="pencolor"
                        value='#008000' (change)="colorcodefun('#008000')" />Green
                    </li>
                    <li class="signature-selected-color-list">
                      <input type="radio" name='pencolor1' [(ngModel)]="pencolor" value='#0000FF' (change)="colorcodefun('#0000FF')" />Blue
                    </li>
                    <li class="signature-selected-color-list">
                      <input type="radio" name='pencolor1' [(ngModel)]="pencolor" value='#000000' (change)="colorcodefun('#000000')" />Black
                    </li>
                  </ul>

                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-3">
                <image-cropper *ngIf="isOpenPad && signatureValidation && signatureValidation.length > 0" class="cropimagesize"
                  [imageBase64]="signatureImage" [maintainAspectRatio]="false" format="png" (imageCropped)="imageCropped($event)"
                  [imageQuality]="100">
                </image-cropper>
              </div>
              <div class="col-lg-9">
                <div *ngIf="croppedImage && signatureValidation && signatureValidation.length > 0">
                  <img  draggable="false" [src]="croppedImage" class="hei-100 " />
                </div>
              </div>
            </div>
            <!-- </div> -->

          </div>
          <div *ngIf="tabactive == 'tab4'">
            <div class="text-center image-pop-drag">

              <div>
                <label for="uploadCaptureInputFileSignature"> <span class="btn filebtn">Choose File</span></label>
                <input style="visibility: hidden; position: absolute;display:none;" class="form-control" type="file"
                  name="files" (change)="onFileSelected($event,'signature','signature')" accept=".png, .jpeg , .jpg" id="uploadCaptureInputFileSignature">


              </div>

              <div class="row">
                <div class="col-6">
                  <image-cropper class="cropimagesize crpimg" [imageChangedEvent]="imageFile" [maintainAspectRatio]="false"
                    format="png" (imageCropped)="imageCropped($event)" [imageQuality]="100">
                  </image-cropper>
                </div>
                <div class="col-6" *ngIf="croppedImage">
                  <img class="image-cropped wid-100 hei-100 previewimgstyle1 imagefit" draggable="false"  [src]="croppedImage" />
                </div>

              </div>
            </div>
            <div *ngIf="croppedImage">

            </div>
          </div>
          <div *ngIf="tabactive == 'tab5'">
            <div class="sign-types width111 minhgt" id="style-15" fxLayout="column" [ngStyle.lt-sm]="'min-height: 800px;'">
              <div class="row zero-marg">
                <div class="fon-18 col-lg-2 col-sm-12 col-xs-12 col-md-12 sign-fon-type-pad-col-3 txtaln txtlft">Signature
                </div>
                <div class="col-lg-9 col-sm-12 col-xs-12 col-md-12 ">
                  <input type="text" style="color:black" class="sign-type-fon-inp pd-lft border111" [(ngModel)]="preview"
                    name="preview" id="uploadCaptureInputFile" maxlength="30" placeholder="Enter name">
                </div>
              </div>
              <div class="row">
                <div class="horizontal-container mt-5">
                  <div class="vertical-container" style="text-align: center">
                    <div class="row" style="justify-content: center">
                      <div class=" sign-action-cont col-lg-4" *ngFor="let f of _presetFonts;let i = index">
                        <span class="fonttypeselect no-bor" [ngClass]="{'active': fontstyle==f}" style="color:black; font-size: 30px;"
                          [style.font-family]="f" (click)="selectFont(f,preview)">
                          {{preview? preview :'sample'+i}}</span>

                      </div>
                    </div>
                    <!-- <button mat-raised-button >SUBMIT</button> -->
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer mar-lr-3rem">
        <button type="button" class="cancel-button-in-pop pl-point hovbtn" data-dismiss="modal" id="signatureModalCloseBtn"
          (click)="signature();colorcodefun('#000000');croppedImage=null;phone=null;fontStyle=null;preview=null;added=null;enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false">Cancel</button>
        <button type="button" class="submit-button-in-pop pl-point" [hidden]="tabactive == 'tab1' || tabactive == 'tab2'"
          (click)="signatureSubmit('signature');signature();resend=false">Submit</button>
      </div>
    </div>
  </div>
</div>
<!-- Central Modal Small -->





<!-- Central Modal Small -->
<div class="modal fade" id="stampModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
  (click)="showdropdownclose()"  data-keyboard="false">

  <div class="modal-dialog modal-lg  mobmodel" role="document">


    <div class="modal-content modal-height modal-height12">
      <div class="modal-header mod-head mod-head1">


        <div class="flexx">
          <div *ngIf="StampList.length>0" [ngClass]="{'select-sign1' : tabactive == 'tab1' }" class="select-sign text-center  pl-point show-tabs-img show-stamp"
            (click)="tabOpen('tab1');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null">
            <h6 [ngClass]="{'select-stamp2' : tabactive == 'tab1' }" class="select-stamp hide-txt">
              <p class="txthide">Stamps</p>
            </h6>
            <p class="pad-icon"></p>
          </div>
          <div (click)="tabOpen('tab2')" [ngClass]="{'select-sign1' : tabactive == 'tab2' }" class="select-sign text-center pl-point show-tabs-img show-mobile">

            <h6 [ngClass]="{'select-sign-mobile-font1' : tabactive == 'tab2' }" class="select-sign-mobile-font hide-txt">
              <p class="txthide">Mobile</p>
              <p class="pad-icon"></p>
            </h6>
          </div>
          <div (click)="tabOpen('tab3');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null"
            [ngClass]="{'select-sign1' : tabactive == 'tab3' }" class="select-sign text-center pl-point show-tabs-img show-im-2">

            <h6 [ngClass]="{'select-sign-image-font1' : tabactive == 'tab3' }" class="select-sign-image-font  hide-txt">
              <p class="txthide">Images</p>
            </h6>
            <p class="pad-icon"></p>
          </div>







        </div>




      </div>
      <div class="modal-body mod-bod scroll-style">

        <div>





          <div *ngIf="tabactive == 'tab1'">
            <!-- <div *ngIf="StampList.length==0">No Data Available</div> -->
            <div *ngIf="StampList.length>0" class="sign-1st" id="style-15">
              <div class="row">
                <div *ngFor="let stamp of StampList" class="col-lg-3 col-md-12 col-xs-12 col-sm-12 ">
                  <div class="text-center show-image wite-bg zoom imagebg">

                    <button *ngIf="!stamp.setDefault" (click)="stamp.setDefault=true;setStampDefaultSettings(stamp)"
                      class="update set-default" type="button">Set
                      Default</button>







                    <button *ngIf="!stamp.setDelete" (click)="stamp.setDelete=true;setStampDefaultSettings(stamp)"
                      class="delete delete-icon" type="button"><img src="assets/images/Group3648.png"></button>

                    <div data-dismiss="modal" (click)="selectStamp(stamp)">

                      <div *ngIf="stamp.type=='stampupload'">
                        <img src="{{stamp.path}}" draggable="false" alt="Stamp" class="pad-14-tb image0size">
                      </div>


                    </div>
                  </div>
                  <button disabled=true *ngIf="stamp.setDefault" class="defalt" type="button">Default</button>

                </div>
              </div>
            </div>
          </div>





          <div *ngIf="tabactive == 'tab2'" class="mar-t-5rem">
            <form #signatureuploadlinkForm4="ngForm" name="signatureuploadlinkForm4" (ngSubmit)="sendLink(signatureuploadlinkForm4,signatureuploadlinkForm4.form.valid,'stamp')">




              <div class="text-center pad-ls-11rem ps-079">
                <p class="mobile-para">Use your mobile device to easily upload your stamp.
                  A link will be sent to your mobile device via text.</p>
              </div>


              <div class="row cen-dialog">
                <div class="mob-fied-pos">
                  <div class="col-lg-4 col-md-12 col-xs-12 col-sm-12">
                    <div class="input-group mb-3">
                      <div class="mobile">

                        <div class="he-d-flex">
                          <div [ngClass]="{'alignicons11': !selectimg,'alignicons-bordernone': selectimg }" (click)="showdropdown($event,'stamp')">
                            <div *ngIf="selectimg" class="mr-10"><img src="../../assets/countries/{{selectimg | lowercase}}.png" />
                            </div><span style="white-space: nowrap;">{{added}}</span>
                            <i *ngIf="!selectimg" class="fa fa-globe globeicon11"></i>
                            <i class="fa fa-caret-down careticon"></i>
                          </div>

                          <div class="hideinput">
                            <input type="number" style="border: none" (keydown)="checkisnum($event)" [ngClass]="{'linht' :iebrowser}"
                              id="country_toggle1" name="enteredvalue" class="br-e5" [(ngModel)]='enteredvalue'
                              placeholder="Enter Mobile Number" (ngModelChange)="mobileNumberValidation(signatureuploadlinkForm4)">
                          </div>
                        </div>
                        <div class="error-hig">
                          <div class="text-danger" *ngIf="req">Enter valid Mobile Number</div>
                        </div>
                        <div class="list" *ngIf="showlist && mobiledemo">
                          <ul class="listitem" (click)="listshow1($event)">
                            <li>
                              <mat-form-field class="example-full-width mob-new-ch matstyle">
                                <!-- <span *ngIf="selectimg" ><img src="../../assets/countries/{{selectimg | lowercase}}.png"/>   </span> -->
                                <input type="text" matInput [matAutocomplete]="auto" name="searchcountry" (keyup)="Searchcountries(searchcountry,$event,'country_toggle1')"
                                  [(ngModel)]='searchcountry' placeholder="Enter Country" (click)="listshow1($event)"
                                  (focus)="listshow1($event)" id="openmodel4">
                                <mat-autocomplete #auto="matAutocomplete" class="sub" [displayWith]="displayFn">
                                  <mat-option class="sub11" *ngFor="let option of countrylist" [(value)]="option"
                                    (click)="addcountry(option,'country_toggle1')">
                                    <span><img src="../../assets/countries/{{option.code | lowercase}}.png" />
                                      {{option.name}} {{option.dial_code}}</span>
                                  </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                            </li>

                          </ul>
                        </div>



                      </div>
                    </div>
                  </div>
                  <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">

                    <button type="submit" *ngIf="!resend" class="mobile-send-but send-place">Send</button>
                    <button type="submit" *ngIf="resend" class="mobile-send-but send-place">Resend</button>

                  </div>
                </div>
              </div>
            </form>
          </div>
          <div *ngIf="tabactive == 'tab3'">
            <div class="text-center image-pop-drag">

              <div>
                <label for="uploadCaptureInputFileStamp"> <span class="btn filebtn">Choose File</span></label>
                <input type="file" style="visibility: hidden; position: absolute;display:none;" class="form-control"
                  name="stamp" placeholder="Modify" (change)="onFileSelected($event,'stamp')" accept=".png, .jpeg , .jpg"
                  id="uploadCaptureInputFileStamp">
              </div>
              <div class="row">
                <div class="col-6">
                  <image-cropper [imageChangedEvent]="imageFile " [maintainAspectRatio]="false" format="png"
                    (imageCropped)="imageCropped($event)" [imageQuality]="100" class="crpimg"></image-cropper>
                </div>
                <div class="col-6">
                  <div *ngIf="croppedImage">
                    <img class="image-cropped wid-100 hei-100 previewimgstyle1 imagefit" draggable="false"  [src]="croppedImage" />
                  </div>
                </div>
              </div>
            </div>

          </div>

        </div>

      </div>
      <div class="modal-footer mar-lr-3rem">
        <button type="button" class="cancel-button-in-pop pl-point hovbtn" data-dismiss="modal" id="stampModalCloseBtn"
          (click)="imagedata=null;type=null;croppedImage=null;phone=null;enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null">Cancel</button>
        <button type="button" class="submit-button-in-pop pl-point" [hidden]="tabactive == 'tab1' || tabactive == 'tab2'"
          (click)="stampSubmit();resend=false">Submit</button>
      </div>
    </div>
  </div>
</div>
<!-- Central Modal Small -->












<!-- Central Modal Small -->
<div class="modal fade" id="photoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
  (click)="showdropdownclose()"  data-keyboard="false">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg mobmodel" role="document">


    <div [ngClass]="{'modal-height-for-img-crop':modelshow==true}" class="modal-content modal-height modal-height12">
      <div class="modal-header mod-head ps-079">

        <div class="flexx flex-rd-w">

          <div *ngIf="PhotoList.length>0" (click)="tabOpen('tab1');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null"
            [ngClass]="{'select-sign1' : tabactive == 'tab1' }" class="select-sign text-center pl-point show-tabs-img show-photo">

            <h6 [ngClass]="{'photo-show1' : tabactive == 'tab1'}" class="photo-show zero-marg hide-txt">
              <p class="txthide">Photo</p>
            </h6>
            <!-- <p class="pad-icon ptag-mb"></p> -->
          </div>
          <div (click)="tabOpen('tab5');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null"
            [ngClass]="{'select-sign1' : tabactive == 'tab5' }" class="select-sign text-center pl-point show-tabs-img select-live"
            data-toggle="tooltip" data-placement="bottom" >

            <h6 [ngClass]="{'select-live-pic1' : tabactive == 'tab5' }" class="select-live-pic zero-marg hide-txt">
              <p class="txthide">LivePhoto</p>
            </h6>
            <!-- <p class="pad-icon ptag-mb"></p> -->
          </div>
          <div [ngClass]="{'select-sign1' : tabactive == 'tab4' }" (click)="tabOpen('tab4');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null"
            class="select-sign text-center pl-point show-tabs-img show-im-2">

            <h6 [ngClass]="{'select-sign-image-font1' : tabactive == 'tab4' }" class="select-sign-image-font zero-marg hide-txt">
              <p class="txthide">Image</p>
            </h6>
            <!-- <p class="pad-icon ptag-mb"></p> -->
          </div>
          <div (click)="tabOpen('tab2')" [ngClass]="{'select-sign1' : tabactive == 'tab2' }" class="select-sign text-center pl-point show-tabs-img show-mobile">

            <h6 [ngClass]="{'select-sign-mobile-font1' : tabactive == 'tab2' }" class="select-sign-mobile-font zero-marg hide-txt">
              <p class="txthide"> Mobile</p>
            </h6>
            <!-- <p class="pad-icon ptag-mb"></p> -->
          </div>


        </div>




      </div>
      <div class="modal-body mod-bod scroll-style">

        <div>
          <div *ngIf="tabactive == 'tab1'">
            <!-- <div *ngIf="PhotoList.length==0">No Data Available</div> -->
            <div *ngIf="PhotoList.length>0" class="sign-1st" id="style-16">
              <div class="row photo-field">
                <div *ngFor="let photo of PhotoList" class="col-lg-3 col-md-12 col-xs-12 col-sm-12 ">
                  <div class="text-center show-image wite-bg zoom imagebg">

                    <button *ngIf="!photo.setDefault" (click)="photo.setDefault=true;setPhotoDefaultSettings(photo)"
                      class="update set-default" type="button">Set
                      Default</button>



                    <!-- <input *ngIf="!sign.setDefault" (click)="sign.setDefault=true;setSignatureDefaultSettings(sign)" class="update" type="button" value="Update" />
                                        <input *ngIf="!sign.setDelete" (click)="sign.setDelete=true;setSignatureDefaultSettings(sign)" class="delete" type="button" value="Delete" />
       -->




                    <button *ngIf="!photo.setDelete" (click)="photo.setDelete=true;setPhotoDefaultSettings(photo)"
                      class="delete delete-icon" type="button"><img src="assets/images/Group3648.png"></button>

                    <div (click)="selectPhoto(photo)">

                      <div *ngIf="photo._id">
                        <img src="{{photo.path}}" draggable="false"  alt="Photo" class="pad-14-tb flx image0size">
                      </div>

                      <!-- <div *ngIf="photo.type=='captured'">
  
                          <img [src]="photo.photobaseData" alt="Photo" width="100" class="pad-14-tb flx" height="100">
                        </div> -->
                    </div>
                  </div>
                  <button disabled=true *ngIf="photo.setDefault" class="defalt" type="button">Default</button>

                </div>
              </div>
            </div>
          </div>
          <div *ngIf="tabactive == 'tab2'" class="mar-t-5rem">

            <form #signatureuploadlinkForm3="ngForm" name="signatureuploadlinkForm3" (ngSubmit)="sendLink(signatureuploadlinkForm3,signatureuploadlinkForm3.form.valid,'photo')">




              <div class="text-center pad-ls-11rem ps-079">
                <p class="mobile-para">Use your mobile device to easily capture your photo.
                  A link will be sent to your mobile device via text.</p>
              </div>


              <div class="row cen-dialog">
                <!-- <div class="col-lg-4 col-sm-12 col-md-12 col-xs-12">
                </div> -->
                <div class="mob-fied-pos">
                  <div class="col-lg-4 col-md-12 col-xs-12 col-sm-12">
                    <div class="input-group mb-3">
                      <div class="mobile">

                        <div class="he-d-flex">
                          <div [ngClass]="{'alignicons11': !selectimg,'alignicons-bordernone': selectimg }" (click)="showdropdown($event,'photo')">
                            <div *ngIf="selectimg" class="mr-10"><img src="../../assets/countries/{{selectimg | lowercase}}.png" />
                            </div><span style="white-space: nowrap;">{{added}}</span>
                            <i *ngIf="!selectimg" class="fa fa-globe globeicon11"></i>
                            <i class="fa fa-caret-down careticon"></i>
                          </div>
                          <div class="hideinput">
                            <input type="number" style="border: none" name="enteredvalue" class="br-e5" [ngClass]="{'linht' :iebrowser}"
                              id="country_toggle2" (keydown)="checkisnum($event)" [(ngModel)]='enteredvalue'
                              placeholder="Enter Mobile Number" (ngModelChange)="mobileNumberValidation(signatureuploadlinkForm3)">
                          </div>

                        </div>
                        <div class="error-hig">
                          <div class="text-danger" *ngIf="req">Enter valid Mobile Number</div>
                        </div>

                        <div class=" list" *ngIf="showlist && mobiledemo">
                          <ul class="listitem" (click)="listshow1($event)">
                            <li>
                              <mat-form-field class="example-full-width mob-new-ch matstyle">
                                <input type="text" matInput [matAutocomplete]="auto" name="searchcountry" (keyup)="Searchcountries(searchcountry,$event,'country_toggle2')"
                                  [(ngModel)]='searchcountry' placeholder="Enter Country" (click)="listshow1($event)"
                                  (focus)="listshow1($event)" id="openmodel3">
                                <mat-autocomplete #auto="matAutocomplete" class="sub" [displayWith]="displayFn">
                                  <mat-option class="sub11" *ngFor="let option of countrylist" [(value)]="option"
                                    (click)="addcountry(option,'country_toggle2')">
                                    <span><img src="../../assets/countries/{{option.code | lowercase}}.png" />
                                      {{option.name}} {{option.dial_code}}</span>
                                  </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                            </li>

                          </ul>
                        </div>


                      </div>
                    </div>
                  </div>
                  <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                    <button type="submit" *ngIf="!resend" class="mobile-send-but send-place">Send</button>
                    <button type="submit" *ngIf="resend" class="mobile-send-but send-place">Resend</button>

                  </div>
                </div>
              </div>
            </form>

          </div>

          <div *ngIf="tabactive == 'tab4'">

            <div class="text-center image-pop-drag">
              <!-- <div>
                    <img src="assets/images/Group3699.png">
                    <h6 class="pad-tb-12">Drop image to upload</h6>
                    <p>(or)</p>
                  </div> -->
              <label for="uploadCaptureInputFilePhoto"> <span class="btn filebtn">Choose File</span></label>
              <input type="file" style="visibility: hidden; position: absolute;display:none;" class="form-control" name="photo"
                placeholder="Modify" (change)="onFileSelected($event,'photo','')" accept=".png, .jpeg , .jpg" id="uploadCaptureInputFilePhoto">
              <div class="row">
                <div class="col-6">
                  <image-cropper [imageChangedEvent]="imageFile" [maintainAspectRatio]="false" format="png"
                    (imageCropped)="imageCropped($event)" [imageQuality]="100" class="crpimg"></image-cropper>
                </div>
                <div class="col-6" *ngIf="croppedImage">
                  <img class="image-cropped wid-100 hei-100 previewimgstyle1 imagefit" draggable="false" [src]="croppedImage" />
                </div>
              </div>
            </div>

          </div>
          <div *ngIf="tabactive == 'tab5'">
            <div *ngIf="!showWebcam" style="text-align:center">
              <button type="button" class="btn btn-primary" (click)="showWebcam=true" type="button">Open Camera</button>
            </div>
            <div *ngIf="showWebcam" style="text-align:center">
              <div *ngIf="!webcamImage">
                <h5>Capture Your Photo</h5>
                <div>
                  <webcam class="" [height]="230" [width]="500" [trigger]="triggerObservable" (imageCapture)="handleImage($event)"
                    *ngIf="showWebcam" [allowCameraSwitch]="allowCameraSwitch" [switchCamera]="nextWebcamObservable"
                    [videoOptions]="videoOptions" (cameraSwitched)="cameraWasSwitched($event)" (initError)="handleInitError($event)"></webcam>
                </div>
                <br />
                <button *ngIf="!webcamImage && !errors.length" type="button" class="btn btn-default" (click)="triggerSnapshot();"
                  title="Take Picture">
                  <mat-icon>photo_camera</mat-icon>
                </button>
                <!-- <button  (click)="showNextWebcam(true);" title="Switch Camera">🔁</button> -->
              </div>
            </div>

            <div class="text-center image-pop-drag" *ngIf="webcamImage && !errors.length">

              <div class="row">
                <div class="col-lg-6">
                  <image-cropper [imageBase64]="webcamImage.imageAsDataUrl" [maintainAspectRatio]="false" format="png"
                    (imageCropped)="imageCropped($event)" [imageQuality]="100"></image-cropper>
                </div>
                <div class="col-lg-6" *ngIf="croppedImage">
                  <img class="wid-100 hei-100 imagefit" draggable="false" [src]="croppedImage" />
                </div>
              </div>
              <br />
              <!-- <button type="button" class="submit-button-in-pop mar-lb-8" (click)="savePhoto();">Submit</button> -->
              <button type="button" class="cancel-button-in-pop" (click)="Cancel();">Re Take</button>
            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer mar-lr-3rem">
        <button type="button" class="cancel-button-in-pop pl-point hovbtn" data-dismiss="modal" id="photoModalCloseBtn"
          (click)="resend=false;imagedata=null;croppedImage=null;type=null;webcamImage=null;showWebcam=false;phone=null;enteredvalue=null;added=null;searchcountry=null">Cancel</button>
        <button type="button" class="submit-button-in-pop pl-point" [hidden]="tabactive == 'tab1' || tabactive == 'tab2'"
          (click)="photoSubmit();resend=false">Submit</button>
      </div>
    </div>
  </div>
</div>
<!-- Central Modal Small -->









<!-- Central Modal Small -->
<div class="modal fade" id="initialModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
  (click)="showdropdownclose()"  data-keyboard="false">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg mobmodel" role="document">


    <div class="modal-content  modal-height modal-height12" style="border-radius:20px">
      <div class="modal-header mod-head ps-079">
        <!-- <h4 class="modal-title w-100" id="myModalLabel">Modal title</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button> -->


        <!-- <span class="select-sign">Select signatures</span>
              <span>Type</span>
              <span>Draw</span>
              <span>Image</span>
              <span>Mobile</span> -->

        <div class="flexx flex-rd-w">
          <div *ngIf="initialList.length>0" [ngClass]="{'select-sign1' : tabactive == 'tab1' }" class="select-sign text-center pl-point  show-tabs-img"
            (click)="tabOpen('tab1');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null">
            <h6 [ngClass]="{'select-signs1' : tabactive == 'tab1' }" class="select-signs hide-txt show-tabs-img-sign">
              <p class="txthide">Set <br> initial</p>
            </h6>
          </div>
          <div (click)="tabOpen('tab3');colorcodefun('#000000');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null"
            [ngClass]="{'select-sign1' : tabactive == 'tab3' }" class="select-sign text-center pl-point show-tabs-img  show-draw">

            <h6 [ngClass]="{'select-sign-draw-font1' : tabactive == 'tab3' }" class="select-sign-draw-font hide-txt">
              <p class="txthide">Draw</p>
            </h6>
            <p class="pad-icon"></p>
          </div>

          <div (click)="tabOpen('tab2')" [ngClass]="{'select-sign1' : tabactive == 'tab2' }" class="select-sign text-center pl-point show-tabs-img show-mobile"
            data-toggle="tooltip" data-placement="bottom" >

            <h6 [ngClass]="{'select-sign-mobile-font1' : tabactive == 'tab2' }" class="select-sign-mobile-font hide-txt">
              <p class="txthide">Mobile</p>
            </h6>
            <p class="pad-icon"></p>
          </div>
          <div (click)="tabOpen('tab4');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null"
            [ngClass]="{'select-sign1' : tabactive == 'tab4' }" class="select-sign text-center pl-point show-tabs-img show-im-2">

            <h6 [ngClass]="{'select-sign-image-font1' : tabactive == 'tab4' }" class="select-sign-image-font hide-txt">
              <p class="txthide">Image</p>
            </h6>
            <p class="pad-icon"></p>
          </div>
          <div [ngClass]="{'select-sign1' : tabactive == 'tab5' }" class="select-sign text-center pl-point show-tabs-img sh-font">
            <h6 [ngClass]="{'select-sign-type-font1' : tabactive == 'tab5' }" class="select-sign-type-font hide-txt"
              (click)="tabOpen('tab5');enteredvalue=null;added=null;searchcountry=null;searchcountry=null;resend=false;selectimg=null">
              <p class="txthide">Type</p>
              <p class="pad-icon"></p>
            </h6>
          </div>
        </div>




      </div>
      <div class="modal-body mod-bod scroll-style">

        <div>
          <div *ngIf="tabactive == 'tab1'">

            <!-- <div *ngIf="initialList.length==0">No Data Available</div> -->
            <div *ngIf="initialList.length>0" class="sign-1st" id="style-15">
              <div class="row photo-field">
                <div *ngFor="let sign of initialList" class="col-lg-3 col-md-12 col-xs-12 col-sm-12">
                  <div class="text-center show-image wite-bg zoom imagebg">

                    <button *ngIf="!sign.setDefault" (click)="sign.setDefault=true;setInitialDefaultSettings(sign)"
                      class="update set-default pl-point" type="button">Set
                      Default</button>



                    <!-- <input *ngIf="!sign.setDefault" (click)="sign.setDefault=true;setSignatureDefaultSettings(sign)" class="update" type="button" value="Update" />
                                        <input *ngIf="!sign.setDelete" (click)="sign.setDelete=true;setSignatureDefaultSettings(sign)" class="delete" type="button" value="Delete" />
       -->




                    <button *ngIf="!sign.setDelete" (click)="sign.setDelete=true;setInitialDefaultSettings(sign)" class="delete delete-icon pl-point"
                      type="button"><img src="assets/images/Group3648.png"></button>

                    <div data-dismiss="modal" (click)="selectSignature(sign,'initial')">

                      <div *ngIf="sign.type=='fileupload'">
                        <img src="{{sign.path}}" draggable="false" alt="Initial" class="image0size">
                      </div>

                      <div *ngIf="sign.type=='signaturepad'">
                        <img [src]="sign.signaturebaseData" draggable="false" alt="Initial" class="pad-14-tb image0size" />
                      </div>

                      <div *ngIf="sign.type=='font'" class="initial-wid ">
                        <span [ngClass]="{'active': fontstyle==sign.fontStyle}" style="color:black;word-break: break-all"
                          [style.font-family]="sign.fontStyle">
                          {{sign.fontText}}</span>
                      </div>
                    </div>
                  </div>
                  <button disabled=true *ngIf="sign.setDefault" class="defalt pl-point" type="button">Default</button>

                </div>
              </div>
            </div>
          </div>
          <div *ngIf="tabactive == 'tab2'" class="mar-t-5rem">
            <form #signatureuploadlinkForm2="ngForm" name="signatureuploadlinkForm2" (ngSubmit)="sendLink(signatureuploadlinkForm2,signatureuploadlinkForm2.form.valid,'initial')">




              <div class="text-center pad-ls-11rem ps-079">
                <p class="mobile-para">Use your mobile device to easily upload your initial.
                  A link will be sent to your mobile device via text.</p>
              </div>


              <div class="row cen-dialog">
                <!-- <div class="col-lg-4 col-sm-12 col-md-12 col-xs-12">
                </div> -->
                <div class="mob-fied-pos">
                  <div class="col-lg-4 col-md-12 col-xs-12 col-sm-12">
                    <div class="input-group mb-3">
                      <!-- <div class="input-group-prepend">
                          <span class="input-group-text" id="basic-addon1">
                       
                          </span>
                        </div> -->
                      <div class="mobile">


                        <div class="he-d-flex">
                          <div [ngClass]="{'alignicons11': !selectimg,'alignicons-bordernone': selectimg }" (click)="showdropdown($event,'initial')">
                            <div *ngIf="selectimg" class="mr-10"><img src="../../assets/countries/{{selectimg | lowercase}}.png" />
                            </div><span style="white-space: nowrap;">{{added}}</span>

                            <i *ngIf="!selectimg" class="fa fa-globe globeicon11"></i>
                            <i class="fa fa-caret-down careticon"></i>
                          </div>
                          <div class="hideinput">
                            <input type="number" style="border: none" name="enteredvalue" class="br-e5" [ngClass]="{'linht' :iebrowser}"
                              id="country_toggle3" (keydown)="checkisnum($event)" [(ngModel)]='enteredvalue'
                              placeholder="Enter Mobile Number" (ngModelChange)="mobileNumberValidation(signatureuploadlinkForm2)">
                          </div>

                        </div>
                        <div class="error-hig">
                          <div class="text-danger" *ngIf="req">Enter valid Mobile Number</div>
                        </div>

                        <div class="list" *ngIf="showlist && mobiledemo">
                          <ul class="listitem" (click)="listshow1($event)">
                            <li>
                              <mat-form-field class="example-full-width mob-new-ch matstyle">
                                <!-- <span *ngIf="selectimg" ><img src="../../assets/countries/{{selectimg | lowercase}}.png"/>   </span> -->
                                <input type="text" matInput [matAutocomplete]="auto" name="searchcountry" (keyup)="Searchcountries(searchcountry,$event,'country_toggle3')"
                                  [(ngModel)]='searchcountry' placeholder="Enter Country" (click)="listshow1($event)"
                                  (focus)="listshow1($event)" id="openmodel2">
                                <mat-autocomplete #auto="matAutocomplete" class="sub" [displayWith]="displayFn">
                                  <mat-option class="sub11" *ngFor="let option of countrylist" [(value)]="option"
                                    (click)="addcountry(option,'country_toggle3')">
                                    <span><img src="../../assets/countries/{{option.code | lowercase}}.png" />
                                      {{option.name}} {{option.dial_code}}</span>
                                  </mat-option>
                                </mat-autocomplete>
                              </mat-form-field>
                            </li>

                          </ul>
                        </div>

                      </div>
                    </div>
                  </div>
                  <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                    <button type="submit" *ngIf="!resend" class="mobile-send-but send-place">Send</button>
                    <button type="submit" *ngIf="resend" class="mobile-send-but send-place">Resend</button>

                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="none-select" *ngIf="tabactive == 'tab3'">
            <h6 class="ml-3">Please Sign Below</h6>
            <div class="row">
              <div class="col-lg-9 col-md-9" id="initialpadwidth" #intialSignature style="padding-left: 30px">
                <ng-signature-pad *ngIf="isOpenPad" format="base64" (done)="showImage($event)" [(points)]="signatureValidation"
                  [penColor]='pencolor' class="btnspace" [emitOnDragEnd]='true' [width]="divsigpadWidth? divsigpadWidth :600"
                  [height]="135" [showDoneButton]='false' (cleared)="clearsign()" [editable]='true' id="uploadCaptureInputFileInitial">
                  <!-- <div _ngcontent-c1="" class="signature-pad1">
                  </div> -->
                </ng-signature-pad>
                <!-- Dummy Signature to resolve signature blinking Error/option-->
                <ng-signature-pad *ngIf="!isOpenPad" class="btnspace" [width]="divsigpadWidth? divsigpadWidth :600"
                  [height]="135" [showDoneButton]='false'></ng-signature-pad>
              </div>
              <div class=" col-lg-3 col-md-3 space">
                <ul>
                  <li class="signature-selected-color-list"><input type="radio" name='pencolor' [(ngModel)]="pencolor"
                      value='#008000' (change)="colorcodefun('#008000')" />Green</li>
                  <li class="signature-selected-color-list"><input type="radio" name='pencolor' [(ngModel)]="pencolor"
                      value='#0000FF' (change)="colorcodefun('#0000FF')" />Blue</li>
                  <!-- <li class="signature-selected-color-list"><input type="radio" name='pencolor' [(ngModel)]="pencolor"
                      value='#FF0000' (change)="colorcodefun('#FF0000')" />Red</li> -->
                  <li class="signature-selected-color-list"><input type="radio" name='pencolor' [(ngModel)]="pencolor"
                      value='#000000' (change)="colorcodefun('#000000')" />Black</li>
                </ul>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-3">
                <image-cropper *ngIf="isOpenPad && signatureValidation && signatureValidation.length > 0" class="cropimagesize"
                  [imageBase64]="signatureImage" [maintainAspectRatio]="false" format="png" (imageCropped)="imageCropped($event)"
                  [imageQuality]="100">
                </image-cropper>
              </div>
              <div class="col-lg-9">
                <div *ngIf="croppedImage && signatureValidation && signatureValidation.length > 0">
                  <img [src]="croppedImage" draggable="false" class="hei-100" />
                </div>
              </div>
            </div>


          </div>
          <div *ngIf="tabactive == 'tab4'">
            <div class="text-center image-pop-drag">
              <!-- <div>
                    <img src="assets/images/Group3699.png">
                    <h6 class="pad-tb-12">Drop image to upload</h6>
                    <p>(or)</p>
                  </div> -->
              <div>
                <span>
                  <label for="uploadCaptureInputFileInitial"> <span class="btn filebtn">Choose File</span></label>
                  <input type="file" style="visibility: hidden; position: absolute;display:none;" class="form-control"
                    name="photo" placeholder="Modify" (change)="onFileSelected($event,'signature','initial')" id="poi"
                    accept=".png, .jpeg , .jpg" id="uploadCaptureInputFileInitial">
                </span>

              </div>

              <div class="row">
                <div class="col-6">
                  <image-cropper class="cropimagesize test crpimg" [imageChangedEvent]="imageFile"
                    [maintainAspectRatio]="false" format="png" (imageCropped)="imageCropped($event)" [imageQuality]="100"></image-cropper>
                </div>

                <div class="col-6" *ngIf="croppedImage">
                  <img class="image-cropped wid-100 hei-100 previewimgstyle1 imagefit" draggable="false" [src]="croppedImage" />
                </div>
              </div>
            </div>
            <div *ngIf="croppedImage">

            </div>
          </div>
          <div *ngIf="tabactive == 'tab5'">
            <div class="sign-types" id="style-15" fxLayout="column" [ngStyle.lt-sm]="'min-height: 800px;'">
              <div class="row zero-marg">
                <div class="fon-18 col-lg-2 col-sm-12 col-xs-12 col-md-12 sign-fon-type-pad-col-3 txtaln txtlft">Initial
                </div>
                <div class="col-lg-9 col-sm-12 col-xs-12 col-md-12 ">
                  <input type="text" style="color:black" class="sign-type-fon-inp pd-lft border111" [(ngModel)]="preview"
                    name="preview" id="uploadCaptureInputFile" maxlength="30" placeholder="Enter name">
                </div>
              </div>
              <div class="row">
                <div class="horizontal-container mt-5">
                  <div class="vertical-container" style="text-align: center">
                    <div class="row" style="justify-content: center">
                      <div class=" sign-action-cont  col-lg-4" *ngFor="let f of _presetFonts;let i = index">
                        <span class="fonttypeselect no-bor" [ngClass]="{'active': fontstyle==f}" style="color:black; font-size: 30px;"
                          [style.font-family]="f" (click)="selectFont(f,preview)">
                          {{preview? preview :'sample'+i}}</span>

                      </div>
                    </div>
                    <!-- <button mat-raised-button >SUBMIT</button> -->
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

      </div>
      <div class="modal-footer mar-lr-3rem">
        <button type="button" class="cancel-button-in-pop pl-point hovbtn" data-dismiss="modal" id="initialModalCloseBtn"
          (click)="imagedata=null;type=null;preview=null;
          fontstyle=null;signature();colorcodefun('#000000');croppedImage=null;phone=null;enteredvalue=null;added=null;searchcountry=null;resend=false">Cancel</button>
        <button type="button" class="submit-button-in-pop pl-point" [hidden]="tabactive == 'tab1' || tabactive == 'tab2'"
          (click)="signatureSubmit('initial');signature();resend=false">Submit</button>
      </div>
    </div>
  </div>
</div>
<!-- Central Modal Small -->




<!-- ====================================Change password  modal starts======================================= -->


<div class="modal fade bed-example-modal-xl " tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel"
  aria-hidden="true"  data-keyboard="false" data-backdrop="false">
  <button type="button" id="changePassCloseBtn" class="close no-bor-outlin" data-toggle="modal" data-target=".bed-example-modal-xl">

  </button>
  <button type="button" class="close no-bor-outlin" style="display:none;" id="changePassCloseBtn" data-dismiss="modal"
    aria-label="Close">
    <span aria-hidden="true" class="pad-all-20">&times;</span>
  </button>

  <div class="modal-dialog modal-xl fix-m-w">
    <div class="modal-content">

      <div>
        <div class="modal-body  redbg fix-modal-h">
          <div class="row">
            <div class="col-sm-12 col-xs-12 col-md-12 col-lg-5 d-non imgnone">
              <div class="welcome-creat-ac">
                <div class="">
                  <h5 class="white-colr txt2font">Reset Password !</h5>
                </div>
                <div class="reset-img-mar">
                  <img src="assets/images/reserpassword.png" class="img-fluid" alt="Responsive image">
                </div>

              </div>
            </div>

            <div class="col-sm-12 col-xs-12 col-md-12 col-lg-7">
              <button type="button" class="close no-bor-outlin" id="changePassCloseBtn" data-dismiss="modal" aria-label="Close"
                (click)="cancel1(userForm)" appPasswordshowhide>
                <span aria-hidden="true" class="pad-all-20">&times;</span>
              </button>
              <div class="alert alert-danger alert-dismissible" *ngIf="displayerror">
                <button type="button" class="close" data-dismiss="alert">&times;</button>

                <strong>{{errorres}}</strong>
              </div>

              <form class="create-ac-sec" #userForm="ngForm" (ngSubmit)="otpfun(userForm)" name="userForm">
                <div class="">
                  <p class="modal-title headfont">Change your password</p>
                </div>

                <div class="alternate-register  fon-14 col-80">To have a strong password. Make sure to have
                  alphanumeric, special characters and it has at least of 8 characters.</div>


                <div>


                  <div class="md-form txt2font form-mar-bot-2 mar-tb-12  wid-100" id='input_old'>
                    <i class=" prefix" style="margin: -12px 0 0 0"><img src="assets/images/Path15375.png"></i>
                    <input type="password" style="padding: 4px 24px; margin: 0;" placeholder="Old Password" (keyup)="checkpassword(oldpass)"
                      [(ngModel)]="oldpass" name="oldpass" pattern='(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[ !"#$%&()*+,\-./:;<=>?@[\\\]^_`{|}~])[A-Za-z\d !"#$%&()*+,\-./:;<=>?@[\\\]^_`{|}~]{8,14}'
                      #oldpassword="ngModel" [class.has-error]="oldpassword.invalid && oldpassword.touched"
                      [class.has-success]="oldpassword.valid" required (focusout)="checkpasswor(oldpassword,'old')"
                      (keypress)="Restrictspacekey($event)">

                    <div class="tooltipp t00l" appPasswordshowhide>
                      <i class="material-icons prefix error-icon" style="font-size: 24px;">
                        visibility_off
                        </i>
                      <i class="material-icons prefix error-icon hidedefault" style="font-size: 24px;">
                        remove_red_eye
                        </i>
                    </div>
                   

                    <div class="text-danger" *ngIf="isOldPassword">Old password mismatch </div>
                    <div *ngIf="(oldpassword.invalid && (oldpassword.dirty || oldpassword.touched)|| formSubmitted && oldpassword.errors) && !iebrowser">
                      <div class="text-danger" *ngIf="!isOldPassword && oldpassword.errors.required">Please Enter Old
                        Password </div>
                    </div>
                    <div *ngIf="(oldpassword.invalid && (oldpassword.dirty || oldpassword.touched)|| formSubmitted && oldpassword.errors) &&  iebrowser">
                      <div class="text-danger" *ngIf="invalidoldpassword">Please Enter Old
                        Password </div>
                    </div>




                  </div>


                  <div class="md-form txt2font form-mar-bot-2  mar-tb-12 wid-100" id='input_new'>
                    <i class="prefix" style="margin: -12px 0 0 0"><img src="assets/images/Path15375.png">&nbsp;&nbsp;</i>
                    <input type="password" placeholder="Password length 8 to 14 characters" [type]="hide1 ? 'password' : 'text'"
                      (keyup)="checkpassword(oldpass)" (keyup)="checkpassword1(newpass)" #newpassword="ngModel"
                      [(ngModel)]="newpass" name="newpass" pattern='(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[ !"#$%&()*+,\-./:;<=>?@[\\\]^_`{|}~])[A-Za-z\d !"#$%&()*+,\-./:;<=>?@[\\\]^_`{|}~]{8,14}'
                      [class.has-error]="newpassword.invalid && newpassword.touched" [class.has-success]="newpassword.valid"
                      [ngModelOptions]="{ updateOn: 'change' }" placeholder="New Password" style="padding: 4px 24px; margin: 0;"
                      required (focusout)="checkpasswor(newpassword,'new1');focus=false;" (focus)="focus=true"
                      (keypress)="Restrictspacekey($event)">

                      <div class="tooltipp t00l" appPasswordshowhide>
                        <i class="material-icons prefix error-icon" style="font-size: 24px;">
                          visibility_off
                          </i>
                        <i class="material-icons prefix error-icon hidedefault" style="font-size: 24px;">
                          remove_red_eye
                          </i>
                      </div>
                   
                    <div class="text-danger" *ngIf="((newpass==oldpass) && newpass) && oldpass">Please Do Not Enter The
                      Old Password</div>
                    <div *ngIf="(newpassword.invalid && (newpassword.dirty || newpassword.touched)|| formSubmitted && newpassword.errors) && !iebrowser">
                      <div class="text-danger" *ngIf="newpassword.errors.required">Please Enter New Password </div>
                      <div class="text-danger sml-danger-txt nunito-font" *ngIf="newpassword.errors.pattern">Password
                        Length must be 8 to 14
                        characters </div>
                    </div>
                    <div *ngIf="(newpassword.invalid && (newpassword.dirty || newpassword.touched)|| formSubmitted && newpassword.errors) && iebrowser">
                      <div class="text-danger" *ngIf="invalidnewpas">Please Enter New Password </div>
                      <div class="text-danger sml-danger-txt nunito-font" *ngIf="newpassword.errors.pattern">Password
                        Length must be 8 to 14
                        characters </div>
                    </div>
                  </div>
                  <div class="md-form txt2font form-mar-bot-2 mar-tb-12  wid-100" id='input_new_cnf'>
                    <i class="prefix" style="margin: -12px 0 0 0"><img src="assets/images/Path15375.png">&nbsp;&nbsp;</i>
                    <input matInput type="password" appConfirmEqualValidator="newpass" style="padding: 4px 24px; margin: 0;"
                      placeholder="Confirm Password" [class.has-error]="verifypassword.invalid && verifypassword.touched"
                      [class.has-success]="verifypassword.valid" [(ngModel)]="pwd3" name="pwd3" #verifypassword="ngModel"
                      required (focusout)="checkpasswor(verifypassword,'new2')" (keypress)="Restrictspacekey($event)">
                      <div class="tooltipp t00l" appPasswordshowhide>
                        <i class="material-icons prefix error-icon" style="font-size: 24px;">
                          visibility_off
                          </i>
                        <i class="material-icons prefix error-icon hidedefault" style="font-size: 24px;">
                          remove_red_eye
                          </i>
                      </div>
                    
                    <div *ngIf="(verifypassword.invalid && (verifypassword.dirty || verifypassword.touched)|| formSubmitted && verifypassword.errors) && !iebrowser">
                      <div class="text-danger" *ngIf="verifypassword.errors.required">Please Enter Confirm Password
                      </div>
                    </div>

                    <div *ngIf="(verifypassword.invalid && (verifypassword.dirty || verifypassword.touched)|| formSubmitted && verifypassword.errors) && iebrowser">
                      <div class="text-danger" *ngIf="invalidconfpas">Please Enter Confirm Password
                      </div>
                    </div>
                    <div class="text-danger" *ngIf="((newpass!=pwd3) && newpass) && pwd3">Password Mismatch</div>
                  </div>

                  <div class="row tpad-20 txt2font text-center dis-fx">
                    <div class=" ">
                      <button type="submit" class="btn btn-sm sign-in1li txtun" appPasswordshowhide>Change Password</button>
                    </div>
                  </div>

                </div>
              </form>

            </div>
          </div>

        </div>
      </div>



    </div>
  </div>
</div>

<!-- ====================================Change password  modal Ends======================================= -->

<section>
  <div class="container-fluid footer-bg1 contentnoselect ">
    <div class="col-12 text-center">
      <ul class="li-flex mb-0 m0bpad1ng">
        <li><label class="l9bel">Pages</label></li>
        <li *ngIf="pdf"><label class="l9bel">{{pageNo}}/{{ pdf.numPages }}</label></li>
        <li> <i class="material-icons z00mout materia1font"  aria-hidden="true" (click)="pdfZoomOut()">remove</i> </li>
        <li *ngIf="zoomVal > 1; ">  <i class="material-icons materia1font" (click)="pdfZoomreset()">zoom_out</i> </li>
        <li *ngIf="(zoomVal == 1)">  <i class="material-icons materia1font" (click)="pdfZoomMax()">zoom_in</i></li>
        <li> <i class="material-icons z00min materia1font" aria-hidden="true" (click)="pdfZoomIn()" >add</i></li>
        <li *ngIf='!editTemplateid'> <img src="assets/images/Group3154.png" class="printer-bor pointer" (click)="printpdfDoc()"> </li>
        <li *ngIf='!editTemplateid'> <img src="assets/images/Group3152.png" class="pointer" data-toggle="modal" data-target="#downloadPdfModal"
            (click)="setDownload()">
        </li>
      </ul>
    </div>
  
  </div>
</section>
</div>

<div>
  <app-aunthicate *ngIf='authenticate' [authIputSend]="authIput" [authenticateData] = 'authenticateData' [authenticateTitle] = 'authenticateTitle' (closeModel)="modelClosing($event)"></app-aunthicate>
  <button type="button" hidden  data-keyboard="false" data-toggle="modal" data-target="#messageModal"
    id="modalOpenBtn">Modal Open</button>
  <!-- Message Modal  -->
  <div class="modal fade" id="messageModal"  data-keyboard="false">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header" style="justify-content: end ; border-bottom: none;">
          <button type="button" class="close" id="modalClosBtn" data-dismiss="modal" (click)="closemsgmodal()">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body container">
          <div *ngIf="!camLoaderSuccess && !camLoaderFail">
            <div class="row align-items-center " style="text-align: center;">
              <div style="width:100%; ">
                <div class="preloader"></div>
              </div>
            </div>
          </div>
          <div *ngIf="camLoaderSuccess && !camLoaderFail">
            <div class="row align-items-center " style="text-align: center;">
              <div style="width:100%; "><img src="assets/images/Group7538.png"> </div>
              <div class="hr-w text-center">
                <h4 style="color:#79DE53">Sucessfully Verified</h4>
              </div>
              <div style="width:100%;color:#000000 ">Your face authentication was successfully verified.
                Please click on Submit button for confirm the photo.</div>

              <div style="width:100%; color:red" *ngIf="expired">{{errorres}}</div>
            </div>
            <div class="row align-items-center justify-content-center" style="padding: 30px">
              <button type="button" class="btn side_bg" (click)="setPhoto();closemsgmodal()">
                <img *ngIf="otploader" src="../assets/newloader.gif" />Submit</button>
            </div>
          </div>
          <div *ngIf="!camLoaderSuccess && camLoaderFail">
            <div class="row align-items-center " style="text-align: center;">
              <div class="hr-w"><img src="/assets/images/Group7542.png"> </div>
              <div class="hr-w text-center">
                <h4 style="color:#F05228">Not Verified</h4>
              </div>
              <div style="width:100%;color:#000000 ">Your authentication was failed!. Please click to Retry
                button for try again.</div>
            </div>
            <div class="row align-items-center justify-content-center" style="padding: 30px"><button type="button"
                class="btn  side_bg" (click)="retry()">Retry</button></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>